<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>视频分析</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/video.css">
</head>

<body onselectstart="return false">
    <!-- 页面头部 -->
    <div class="header">
        <div class="bx">
            <div class="sdap-info clearfix">
                <img class="logo f-l" src="images/logo.png" alt="logo" width="50px">
                <p class="sdap-version f-l">
                    创冰足球大师数据分析系统 SDAP
                    <span class="version-num">&nbsp; v3.0.0.1</span>
                </p>
                <!-- 头部右侧 -->
                <div class="header-right f-r clearfix">
                    <ul class="clearfix">
                        <li class="use-quit f-r">
                            <a href="#">
                                <span>登出</span>
                                <i></i>
                            </a>
                        </li>
                        <li class="use-set f-r">
                            <a href="#">
                                <span>设置</span>
                                <i></i>
                            </a>
                        </li>
                        <li class="use-guide f-r">
                            <a href="#">
                                <span>说明</span>
                                <i></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- 页面导航条 -->
    <div class="nav-bar">
        <div class="bx">
            <ul class="clearfix">
                <li class="f-l">
                    <a href="index.html" name="index">球队表现</a>
                </li>
                <li class="f-l">
                    <a class="select" href="video.html" name="video">视频分析</a>
                </li>
                <li class="f-l">
                    <a href="report.html" name="report">数据报告</a>
                </li>
            </ul>
        </div>

    </div>
    <!-- 公共球队导航样式 -->
    <div class="team-nav">
        <div class="bx clearfix">
            <div class="team-row clearfix">
                <div class="ourteam team-info f-l">
                    <div class="team-wrapper">
                        <p>本队</p>
                        <div class="team-logo select">
                            <img src="http://csfile.oss-cn-hangzhou.aliyuncs.com/teamlogo/hengda_s.png?Expires=4600489802&OSSAccessKeyId=ZMQayXeY7ZLaB0BH&Signature=i%2BDTRxN52TXNdswfXDZsmNudsAU%3D" alt=""   >
                            <p>广州恒大淘宝</p>
                        </div>
                    </div>   
                </div>
                <div class="opponent team-info f-l">
                    <div class="team-wrapper">
                        <p>下轮对手</p>
                        <div class="team-logo">
                            <!-- <img src="http://csfile.oss-cn-hangzhou.aliyuncs.com/teamlogo/dongya_s.png?Expires=4600490291&OSSAccessKeyId=ZMQayXeY7ZLaB0BH&Signature=lRspDf1kmJJzAq2BQyy0mbiL0Rg%3D" alt=""   >
                            <p>上海上港</p> -->
                            <img src="" alt=""   >
                            <p>尚未开赛</p>
                        </div>
                    </div>   
                </div>
                <div class="other-team f-l">
                    <div class="other-teams-wrapper">
                        <p>联赛其他球队</p>
                        <div class="select-bar clearfix">
                            <div class="prev select-box f-l">
                                <img class="prev-team" src="images/prevbtn.png" alt="" width="22">
                            </div>
                            <div class="scroll-box f-l clearfix" id="scrollbox">
                                <div class="f-l clearfix" id="scroller">
                                    <ul class="f-l clearfix">
                                        <!-- <li class="f-l team-logo select">
                                            <img src="images/gzhd.png" alt=""   >
                                            <p>上海上港</p>
                                        </li>
                                            -->
                                    </ul>
                                </div>
                            </div>

                            <div class="next select-box f-r">
                                <img class="next-team" src="images/nextbtn.png" alt="" width="22">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 分割线 以上为公共部分 -->
        </div>
    </div>

    <div class="video-main main">
        <div class="bx clearfix">
            <div class="video-analyze">
                <div class="video-tab">
                    <ul class="clearfix">
                        <li class="f-l tab-selected" name="match-analyze">比赛分析</li>
                        <li class="f-l" name="event-analyze">事件分析</li>
                        <li class="f-l" name="player-analyze">球员分析</li>
                    </ul>
                </div>

                <!-- 比赛分析模块 -->
                <div class="match-analyze video-info-body clearfix">
                    <div class="video-info-left f-l">
                        <div class="game-module">
                            <div class="module-title clearfix">比赛
                                <div class="filter-btn filter-toggle">
                                    <span>筛选（所有比赛）</span>
                                    <ul class="filter-btn-selectbox filter-toggle">
                                        <li class="f-l select">所有比赛</li>
                                        <li class="f-l">有视频</li>
                                        <li class="f-l">无视频</li>
                                    </ul>
                                </div>

                                <div class="filter-search f-r clearfix">
                                    <img src="images/search2.png" alt="" width="14">
                                    <div class="search-box f-r">
                                        <input type="text">
                                        <img class="cancel-search" src="images/cancel1.png" width="12" alt="">
                                    </div>
                                </div>
                            </div>
                            <div class="container">
                                <ul class="match-video-list game clearfix">
                                    <li class="item f-l">
                                        <i class="camera f-l">
                                            <img src="images/all-goals.png" alt="" width="24">
                                        </i>
                                        <div>
                                            <p class="match-name">切尔西6-1曼彻斯特联队</p>
                                            <p class="match-round">2017赛季-英超联赛第32轮</p>
                                        </div>
                                        <i class="detail f-r"></i>
                                        <i class="download-pdf f-r"></i>
                                        <div class="hideDiv" style="display:none">
                                            <div class="against-teams clearfix">
                                                <div class="team-profile f-l">
                                                    <div class="team-logo">
                                                        <img src="images/gzhd.png" alt="">
                                                    </div>
                                                    <h5 class="team-name">广州恒大淘宝</h5>
                                                </div>
                                                <div class="against-time f-l">
                                                    <div>
                                                        <p>2017-09-02</p>
                                                        <p>19:30</p>
                                                        <p>2017赛季中超联赛</p>
                                                        <p>第20轮</p>
                                                    </div>
                                                </div>
                                                <div class="team-profile f-r">
                                                    <div class="team-logo">
                                                        <img src="images/gzhd.png" alt="">
                                                    </div>
                                                    <h5 class="team-name">广州恒大淘宝</h5>
                                                </div>
                                            </div>
                                            <p class="against-score">
                                                <b class="home-score f-l">4
                                                    <span>(6)</span>
                                                </b>
                                                <span class="finish-or-not f-l">已完赛</span>
                                                <b class="away-score f-r">
                                                    <span>(7)</span>3</b>
                                            </p>
                                        </div>
                                    </li>


                                </ul>
                                <div class="pagination game1">
                                    <button class="prev-btn prev-btn1">
                                        <img src="images/prev-page.png" width="14" alt="">
                                    </button>
                                    <p>
                                        <span id="curentPage1">0</span>/
                                        <span id="totalPage1">0</span>
                                    </p>
                                    <button class="next-btn next-btn1">
                                        <img src="images/next-page.png" width="14" alt="">
                                    </button>
                                </div>
                            </div>
                            <hr />
                        </div>
                        <div class="events-module">
                            <p class="module-title">事件</p>
                            <ul class="event-list match clearfix" style="display:none;">
                                <li class="event-item game f-l" name="1,1" id="1-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">进球</p>
                                </li>
                                <li class="event-item game f-l" name="1,2" id="1-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">失球</p>
                                </li>
                                <li class="event-item game f-l" name="90,1" id="90-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">射正</p>
                                </li>
                                <li class="event-item game f-l" name="90,2" id="90-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手射正</p>
                                </li>
                                <li class="event-item game f-l" name="500,1" id="500-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">射偏</p>
                                </li>
                                <li class="event-item game f-l" name="500,2" id="500-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手射偏</p>
                                </li>
                                <li class="event-item game f-l" name="205,1" id="205-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">封堵射门</p>
                                </li>
                                <li class="event-item game f-l" name="205,2" id="205-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">射门被封堵</p>
                                </li>
                                <li class="event-item game f-l" name="78,1" id="78-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">助攻</p>
                                </li>
                                <li class="event-item game f-l" name="78,2" id="78-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手助攻</p>
                                </li>
                                <li class="event-item game f-l" name="504,1" id="504-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">关键传球</p>
                                </li>
                                <li class="event-item game f-l" name="504,2" id="504-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手关键传球</p>
                                </li>
                                <li class="event-item game f-l" name="411,1" id="411-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">绝对机会</p>
                                </li>
                                <li class="event-item game f-l" name="411,2" id="411-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手绝对机会</p>
                                </li>
                                <li class="event-item game f-l" name="171,1" id="171-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">过人</p>
                                </li>
                                <li class="event-item game f-l" name="171,2" id="171-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">被过人</p>
                                </li>
                                <li class="event-item game f-l" name="17,1" id="17-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">球门球</p>
                                </li>
                                <li class="event-item game f-l" name="17,2" id="17-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手球门球</p>
                                </li>
                                <li class="event-item game f-l" name="14,1" id="14-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">角球</p>
                                </li>
                                <li class="event-item game f-l" name="14,2" id="14-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手角球</p>
                                </li>
                                <li class="event-item game f-l" name="10,1" id="10-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">任意球</p>
                                </li>
                                <li class="event-item game f-l" name="10,2" id="10-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手任意球</p>
                                </li>
                                <li class="event-item game f-l" name="19,1" id="19-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">界外球</p>
                                </li>
                                <li class="event-item game f-l" name="19,2" id="19-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手界外球</p>
                                </li>
                                <li class="event-item game f-l" name="2,1" id="2-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">点球</p>
                                </li>
                                <li class="event-item game f-l" name="2,2" id="2-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手点球</p>
                                </li>
                                <li class="event-item game f-l" name="62,1" id="62-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">越位</p>
                                </li>
                                <li class="event-item game f-l" name="62,2" id="62-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手越位</p>
                                </li>

                                <li class="event-item game f-l" name="21,1" id="21-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">犯规</p>
                                </li>
                                <li class="event-item game f-l" name="21,2" id="21-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">被犯规</p>
                                </li>
                                <li class="event-item game f-l" name="502,1" id="502-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">守门员扑救</p>
                                </li>
                                <li class="event-item game f-l" name="502,2" id="502-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手守门员扑救</p>
                                </li>
                                <li class="event-item game f-l" name="359,1" id="359-a-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">门将出击</p>
                                </li>
                                <li class="event-item game f-l" name="359,2" id="359-z-match" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手出击</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="video-info-center f-l">
                        <div class="playback-module">
                            <p class="module-title clearfix">
                                <b id="videoTopHtml" name="videoTopHtml">全部动作-全部球员-天津权健-全部比赛</b>
                                <span class="screenshot f-r">截图</span>
                            </p>
                            <div class="container">
                                <div class="video-box">
                                    <video src="" name="matchVideoBox" id="videoPlayBox-match" controls="controls"></video>
                                    <canvas id="screenshot" name="screenshot" width="466" height="292"></canvas>
                                    <div class="video_content" id="videoContent" name="videoContent"></div>
                                </div>
                                <div class="time-quantum game">
                                    <ul class="clearfix">
                                        <!-- <li class="time-list f-l">
                                            <b>1</b>
                                            <p>比洛-进球-27：58</p>
                                            <input type="checkbox" class="checkbox f-r">
                                            <i class="f-r"><img src="images/video-download.png" width="7" alt=""></i>
                                        </li> -->

                                    </ul>
                                    <div class="pagination clearfix">
                                        <button class="prev-btn prev-btn2">
                                            <img src="images/prev-page.png" width="14" alt="">
                                        </button>
                                        <p>
                                            <span id="curentPage2">0</span>/
                                            <span id="totalPage2">0</span>
                                        </p>
                                        <button class="next-btn next-btn2">
                                            <img src="images/next-page.png" width="14" alt="">
                                        </button>
                                        <span class="download-selected f-r">下载</span>
                                        <span class="select-all f-r">全选</span>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="video-info-right match f-l">
                        <div class="match-result match">
                            <p class="module-title clearfix">
                                <a href="match.html" class="linkto-details f-r">查看详情</a>
                            </p>
                            <div class="container">
                                <div class="information-details">

                                    <div class="infor-wraper">
                                        <div class="against-teams clearfix">
                                            <div class="team-profile f-l">
                                                <div class="team-logo">
                                                    <img src="images/gzhd.png" alt="">
                                                </div>
                                                <h5 class="team-name">广州恒大淘宝</h5>
                                            </div>
                                            <div class="against-time f-l">
                                                <div>
                                                    <p>2017-09-02</p>
                                                    <p>19:30</p>
                                                    <p>2017赛季中超联赛</p>
                                                    <p>第20轮</p>
                                                </div>
                                            </div>
                                            <div class="team-profile f-r">
                                                <div class="team-logo">
                                                    <img src="images/gzhd.png" alt="">
                                                </div>
                                                <h5 class="team-name">广州恒大淘宝</h5>
                                            </div>
                                        </div>
                                        <p class="against-score">
                                            <b class="home-score f-l">4
                                                <span>(6)</span>
                                            </b>
                                            <span class="finish-or-not f-l">已完赛</span>
                                            <b class="away-score f-r">
                                                <span>(7)</span>3</b>
                                        </p>
                                    </div>


                                    <div class="data-type-tab">
                                        <ul class="clearfix" id="matchStaticTab">
                                            <li class="f-l type-selected" data-value="basic">
                                                <a href="javascript:;">基本</a>
                                                <b class="triangle"></b>
                                            </li>
                                            <li class="f-l" data-value="attack">
                                                <a href="javascript:;">进攻</a>
                                                <b class="triangle"></b>
                                            </li>
                                            <li class="f-l" data-value="defense">
                                                <a href="javascript:;">防守</a>
                                                <b class="triangle"></b>
                                            </li>
                                        </ul>
                                    </div>

                                    <div class="bar-wraper">
                                        <!-- 基本 -->
                                        <div class="data-details basic">
                                            <p class="data-title">控球率</p>
                                            <div class="data-bar clearfix possession">
                                                <span class="data-text f-l">50%</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50%</span>
                                            </div>
                                            <p class="data-title">射门</p>
                                            <div class="data-bar clearfix shots">
                                                <span class="data-text f-l">50</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50</span>
                                            </div>
                                            <p class="data-title">传球</p>
                                            <div class="data-bar clearfix passes">
                                                <span class="data-text f-l">50</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50</span>
                                            </div>
                                            <p class="data-title">传球成功率</p>
                                            <div class="data-bar clearfix passes-Accuracy">
                                                <span class="data-text f-l">50</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50</span>
                                            </div>
                                            <p class="data-title">黄牌</p>
                                            <div class="data-bar clearfix yellow-Cards">
                                                <span class="data-text f-l">50</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50</span>
                                            </div>
                                            <p class="data-title">有效比赛时间</p>
                                            <div class="data-bar clearfix effectiveTime">
                                                <span class="data-text f-l">50%</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50%</span>
                                            </div>
                                        </div>
                                        <!-- 进攻 -->
                                        <div class="data-details attack hide">
                                            <p class="data-title">射正</p>
                                            <div class="data-bar clearfix shot-on-target">
                                                <span class="data-text f-l">50%</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50%</span>
                                            </div>
                                            <p class="data-title">进攻三区传球</p>
                                            <div class="data-bar clearfix passesInAttackingThirds">
                                                <span class="data-text f-l">50</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50</span>
                                            </div>
                                            <p class="data-title">进攻三区传球成功率</p>
                                            <div class="data-bar clearfix passesInAttackingThirdsP">
                                                <span class="data-text f-l">50</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50</span>
                                            </div>
                                            <p class="data-title">传中</p>
                                            <div class="data-bar clearfix centers">
                                                <span class="data-text f-l">50</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50</span>
                                            </div>
                                            <p class="data-title">越位</p>
                                            <div class="data-bar clearfix offsides">
                                                <span class="data-text f-l">50</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50</span>
                                            </div>
                                            <p class="data-title">角球</p>
                                            <div class="data-bar clearfix corners">
                                                <span class="data-text f-l">50%</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50%</span>
                                            </div>
                                        </div>
                                        <!-- 防守 -->
                                        <div class="data-details defense hide">
                                            <p class="data-title">抢断</p>
                                            <div class="data-bar clearfix tacklesSuccess">
                                                <span class="data-text f-l">50%</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50%</span>
                                            </div>
                                            <p class="data-title">拦截</p>
                                            <div class="data-bar clearfix interceptions">
                                                <span class="data-text f-l">50</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50</span>
                                            </div>
                                            <p class="data-title">解围</p>
                                            <div class="data-bar clearfix clearances">
                                                <span class="data-text f-l">50</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50</span>
                                            </div>
                                            <p class="data-title">空中对抗</p>
                                            <div class="data-bar clearfix aerialDuelsWin">
                                                <span class="data-text f-l">50</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50</span>
                                            </div>
                                            <p class="data-title">空中对抗成功率</p>
                                            <div class="data-bar clearfix aerialDuelsPer">
                                                <span class="data-text f-l">50</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50</span>
                                            </div>
                                            <p class="data-title">犯规</p>
                                            <div class="data-bar clearfix fouls">
                                                <span class="data-text f-l">50%</span>
                                                <div class="bar">
                                                    <div class="bar-per" style="width:50%;"></div>
                                                </div>
                                                <span class="data-text f-r">50%</span>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <!-- 事件分析模块 -->
                <div class="event-analyze video-info-body clearfix hide">
                    <div class="video-info-left f-l">
                        <div class="events-module">
                            <p class="module-title">事件</p>
                            <ul class="event-list event clearfix">
                                <li class="event-item game f-l" name="1,1" id="1-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">进球</p>
                                </li>
                                <li class="event-item opposite game f-l" name="1,2" id="1-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">失球</p>
                                </li>
                                <li class="event-item game f-l" name="90,1" id="90-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">射正</p>
                                </li>
                                <li class="event-item opposite game f-l" name="90,2" id="90-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手射正</p>
                                </li>
                                <li class="event-item game f-l" name="500,1" id="500-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">射偏</p>
                                </li>
                                <li class="event-item opposite game f-l" name="500,2" id="500-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手射偏</p>
                                </li>
                                <li class="event-item game f-l" name="205,1" id="205-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">封堵射门</p>
                                </li>
                                <li class="event-item opposite game f-l" name="205,2" id="205-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">射门被封堵</p>
                                </li>
                                <li class="event-item game f-l" name="78,1" id="78-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">助攻</p>
                                </li>
                                <li class="event-item opposite game f-l" name="78,2" id="78-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手助攻</p>
                                </li>
                                <li class="event-item game f-l" name="504,1" id="504-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">关键传球</p>
                                </li>
                                <li class="event-item opposite game f-l" name="504,2" id="504-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手关键传球</p>
                                </li>
                                <li class="event-item game f-l" name="411,1" id="411-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">绝对机会</p>
                                </li>
                                <li class="event-item opposite game f-l" name="411,2" id="411-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手绝对机会</p>
                                </li>
                                <li class="event-item game f-l" name="171,1" id="171-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">过人</p>
                                </li>
                                <li class="event-item opposite game f-l" name="171,2" id="171-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">被过人</p>
                                </li>
                                <li class="event-item game f-l" name="17,1" id="17-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">球门球</p>
                                </li>
                                <li class="event-item opposite game f-l" name="17,2" id="17-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手球门球</p>
                                </li>
                                <li class="event-item game f-l" name="14,1" id="14-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">角球</p>
                                </li>
                                <li class="event-item opposite game f-l" name="14,2" id="14-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手角球</p>
                                </li>
                                <li class="event-item game f-l" name="10,1" id="10-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">任意球</p>
                                </li>
                                <li class="event-item opposite game f-l" name="10,2" id="10-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手任意球</p>
                                </li>
                                <li class="event-item game f-l" name="19,1" id="19-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">界外球</p>
                                </li>
                                <li class="event-item opposite game f-l" name="19,2" id="19-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手界外球</p>
                                </li>
                                <li class="event-item game f-l" name="2,1" id="2-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">点球</p>
                                </li>
                                <li class="event-item opposite game f-l" name="2,2" id="2-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手点球</p>
                                </li>
                                <li class="event-item game f-l" name="62,1" id="62-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">越位</p>
                                </li>
                                <li class="event-item opposite game f-l" name="62,2" id="62-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手越位</p>
                                </li>

                                <li class="event-item game f-l" name="21,1" id="21-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">犯规</p>
                                </li>
                                <li class="event-item opposite game f-l" name="21,2" id="21-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">被犯规</p>
                                </li>
                                <li class="event-item game f-l" name="502,1" id="502-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">守门员扑救</p>
                                </li>
                                <li class="event-item opposite game f-l" name="502,2" id="502-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手守门员扑救</p>
                                </li>
                                <li class="event-item game f-l" name="359,1" id="359-a">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">门将出击</p>
                                </li>
                                <li class="event-item opposite game f-l" name="359,2" id="359-z">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手出击</p>
                                </li>
                            </ul>
                            <hr />
                        </div>
                        <div class="game-module">
                            <p class="module-title clearfix">比赛
                            </p>
                            <div class="container">
                                <ul class="match-video-list event clearfix">
                                    <!-- <li class="item f-l">
                                        <i class="camera f-l"><img src="images/all-goals.png" alt="" width="24"></i>
                                        <div>
                                            <p class="match-name">切尔西6-1曼彻斯特联队</p>
                                            <p class="match-round">2017赛季-英超联赛第32轮</p>
                                        </div>
                                    </li>                                     -->
                                </ul>
                                <div class="pagination">
                                    <button class="prev-btn prev-btn3">
                                        <img src="images/prev-page.png" width="14" alt="">
                                    </button>
                                    <p>
                                        <span id="curentPage3">0</span>/
                                        <span id="totalPage3">0</span>
                                    </p>
                                    <button class="next-btn next-btn3">
                                        <img src="images/next-page.png" width="14" alt="">
                                    </button>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="video-info-center f-l">
                        <div class="playback-module">
                            <p class="module-title clearfix">
                                <b id="videoTopHtmlEvent" name="videoTopHtml">全部动作-全部球员-天津权健-全部比赛</b>
                                <span class="screenshot f-r">截图</span>
                            </p>
                            <div class="container">
                                <div class="video-box">
                                    <video src="" name="eventVideoBox" id="videoPlayBox-event" controls="controls"></video>
                                    <canvas id="screenshot" name="screenshot" width="466" height="292"></canvas>
                                    <div class="video_content" id="videoContent" name="videoContent"></div>
                                </div>
                                <div class="time-quantum event">
                                    <ul class="clearfix">
                                        <!-- <li class="time-list f-l">
                                            <b>1</b>
                                            <p>比洛-进球-27：58</p>
                                            <input type="checkbox" class="checkbox f-r">
                                            <i class="f-r"><img src="images/video-download.png" width="7" alt=""></i>
                                        </li> -->

                                    </ul>
                                    <div class="pagination clearfix">
                                        <button class="prev-btn prev-btn4">
                                            <img src="images/prev-page.png" width="14" alt="">
                                        </button>
                                        <p>
                                            <span id="curentPage4">0</span>/
                                            <span id="totalPage4">0</span>
                                        </p>
                                        <button class="next-btn next-btn4">
                                            <img src="images/next-page.png" width="14" alt="">
                                        </button>
                                        <span class="download-selected f-r">下载</span>
                                        <span class="select-all f-r">全选</span>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="video-info-right event f-l">
                        <div class="match-result event">
                            <p class="module-title clearfix">
                                <!-- <span class="linkto-details f-r">查看详情</span> -->
                                <!-- 此模块没有标题名，点位 -->
                            </p>
                            <div class="container">
                                <div class="coaching-board">
                                    <div class="football-court">
                                        <div id="div_title_trace" class="details_float" style="margin-left: 371px; margin-top: 325px; display: none;">20 Yu Hanchao 38'39'' 关键传球</div>
                                        <svg id="chalk-board" xmlns="http://www.w3.org/2000/svg" version="1.1" height="352px" width="237px"></svg>
                                    </div>
                                </div>
                                <div class="area-filter">
                                    <div class="area-filter-box event-start">
                                        <p>选择事件发生区域</p>
                                        <ul class="area-start clearfix">
                                            <li class="all select"></li>
                                            <li class="left"></li>
                                            <li class="right"></li>
                                            <li class="center"></li>
                                            <li></li>
                                            <li class="top"></li>
                                            <li class="bottom"></li>
                                            <li class="middle"></li>
                                        </ul>
                                    </div>
                                    <div class="area-filter-box event-end disabled">
                                        <p>选择事件结束区域</p>
                                        <ul class="area-start clearfix">
                                            <li class="all select"></li>
                                            <li class="left"></li>
                                            <li class="right"></li>
                                            <li class="center"></li>
                                            <li></li>
                                            <li class="top"></li>
                                            <li class="bottom"></li>
                                            <li class="middle"></li>
                                        </ul>
                                    </div>

                                </div>
                                <!-- <ul class="select-area clearfix">
                                    <li><a class="choose-area" href="javascript:;">选区</a></li>
                                    <li><a class="play-video" href="javascript:;">播放</a></li>
                                    <li><a class="download-video" href="javascript:;">下载</a></li>
                                </ul> -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 球员分析模块 -->
                <div class="player-analyze video-info-body clearfix hide">
                    <div class="video-info-left f-l">
                        <div class="game-module">
                            <p class="module-title clearfix">球员</p>
                            <div class="container players-container">
                                <ul class="player-list clearfix">
                                    <li>
                                        <img src="http://csfile.oss-cn-hangzhou.aliyuncs.com/person_photo/face/2017/2017_1000_1009.jpg?Expires=4646265957&OSSAccessKeyId=xQ9FkjDA2vJOhB9D&Signature=qXbhAIDdV2ZCg8Uqko71QVrYe9k%3D"
                                            alt="">
                                        <p class="player-name">罗杰 马尔丁斯</p>
                                    </li>

                                </ul>
                                <hr />
                            </div>
                        </div>

                        <div class="events-module">
                            <p class="module-title">事件</p>
                            <ul class="event-list player clearfix">
                                <li class="event-item player f-l" name="1,1" id="1-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">进球</p>
                                </li>
                                <li class="event-item player f-l" name="1,2" id="1-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">失球</p>
                                </li>
                                <li class="event-item player f-l" name="90,1" id="90-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">射正</p>
                                </li>
                                <li class="event-item player f-l" name="90,2" id="90-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手射正</p>
                                </li>
                                <li class="event-item player f-l" name="500,1" id="500-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">射偏</p>
                                </li>
                                <li class="event-item player f-l" name="500,2" id="500-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手射偏</p>
                                </li>
                                <li class="event-item player f-l" name="205,1" id="205-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">封堵射门</p>
                                </li>
                                <li class="event-item player f-l" name="205,2" id="205-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">射门被封堵</p>
                                </li>
                                <li class="event-item player f-l" name="78,1" id="78-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">助攻</p>
                                </li>
                                <li class="event-item player f-l" name="78,2" id="78-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手助攻</p>
                                </li>
                                <li class="event-item player f-l" name="504,1" id="504-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">关键传球</p>
                                </li>
                                <li class="event-item player f-l" name="504,2" id="504-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手关键传球</p>
                                </li>
                                <li class="event-item player f-l" name="411,1" id="411-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">绝对机会</p>
                                </li>
                                <li class="event-item player f-l" name="411,2" id="411-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手绝对机会</p>
                                </li>
                                <li class="event-item player f-l" name="171,1" id="171-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">过人</p>
                                </li>
                                <li class="event-item player f-l" name="171,2" id="171-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">被过人</p>
                                </li>
                                <li class="event-item player f-l" name="17,1" id="17-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">球门球</p>
                                </li>
                                <li class="event-item player f-l" name="17,2" id="17-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手球门球</p>
                                </li>
                                <li class="event-item player f-l" name="14,1" id="14-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">角球</p>
                                </li>
                                <li class="event-item player f-l" name="14,2" id="14-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手角球</p>
                                </li>
                                <li class="event-item player f-l" name="10,1" id="10-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">任意球</p>
                                </li>
                                <li class="event-item player f-l" name="10,2" id="10-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手任意球</p>
                                </li>
                                <li class="event-item player f-l" name="19,1" id="19-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">界外球</p>
                                </li>
                                <li class="event-item player f-l" name="19,2" id="19-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手界外球</p>
                                </li>
                                <li class="event-item player f-l" name="2,1" id="2-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">点球</p>
                                </li>
                                <li class="event-item player f-l" name="2,2" id="2-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手点球</p>
                                </li>
                                <li class="event-item player f-l" name="62,1" id="62-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">越位</p>
                                </li>
                                <li class="event-item player f-l" name="62,2" id="62-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手越位</p>
                                </li>

                                <li class="event-item player f-l" name="21,1" id="21-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">犯规</p>
                                </li>
                                <li class="event-item player f-l" name="21,2" id="21-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">被犯规</p>
                                </li>
                                <li class="event-item player f-l" name="502,1" id="502-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">守门员扑救</p>
                                </li>
                                <li class="event-item player f-l" name="502,2" id="502-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手守门员扑救</p>
                                </li>
                                <li class="event-item player f-l" name="359,1" id="359-a-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">门将出击</p>
                                </li>
                                <li class="event-item player f-l" name="359,2" id="359-z-player" style="display:none;">
                                    <i class="f-l">
                                        <img src="images/all-goals.png" height="25" alt="">
                                    </i>
                                    <p class="f-l">对手出击</p>
                                </li>
                            </ul>

                        </div>
                    </div>
                    <div class="video-info-center f-l">
                        <div class="playback-module">
                            <p class="module-title clearfix">
                                <b id="videoTopHtmlPlayer" name="videoTopHtml">全部动作-全部球员-天津权健-全部比赛</b>
                                <span class="screenshot f-r">截图</span>
                            </p>
                            <div class="container">
                                <div class="video-box">
                                    <video src="" name="playerVideoBox" id="videoPlayBox-player" controls="controls"></video>
                                    <canvas id="screenshot" name="screenshot" width="466" height="292"></canvas>
                                    <div class="video_content" id="videoContent" name="videoContent"></div>
                                </div>
                                <div class="time-quantum player">
                                    <ul class="clearfix">
                                        <!-- <li class="time-list f-l">
                                            <b>1</b>
                                            <p>比洛-进球-27：58</p>
                                            <input type="checkbox" class="checkbox f-r">
                                            <i class="f-r">
                                                <img src="images/video-download.png" width="7" alt="">
                                            </i>
                                        </li> -->

                                    </ul>
                                    <div class="pagination clearfix">
                                        <button class="prev-btn prev-btn5">
                                            <img src="images/prev-page.png" width="14" alt="">
                                        </button>
                                        <p>
                                            <span id="curentPage5">0</span>/
                                            <span id="totalPage5">0</span>
                                        </p>
                                        <button class="next-btn next-btn5">
                                            <img src="images/next-page.png" width="14" alt="">
                                        </button>
                                        <span class="download-selected f-r">下载</span>
                                        <span class="select-all f-r">全选</span>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="video-info-right player f-l">
                        <div class="match-result player">
                            <p class="module-title clearfix">
                                <a href="personal_data.html" class="linkto-details f-r">查看详情</a>
                            </p>
                            <div class="container">
                                <div class="information-details">
                                    <div class="player-info">
                                        <div class="player-avatar clearfix">
                                            <img src="images/avatar.png" width="80" height="80" alt="">
                                            <p>罗杰 帕帕斯塔索普洛斯</p>
                                        </div>
                                        <ul class="player-stats clearfix">
                                            <li>年龄：28</li>
                                            <li>体重：86</li>
                                            <li>国籍：中国</li>
                                            <li>位置：门将</li>
                                            <li>身高：196</li>
                                        </ul>
                                    </div>

                                    <div class="data-type-tab">
                                        <ul class="clearfix" id="playerStaticTab">
                                            <li class="f-l type-selected" data-value="basic">
                                                <a href="javascript:;">基本</a>
                                                <b class="triangle"></b>
                                            </li>
                                            <li class="f-l" data-value="attack">
                                                <a href="javascript:;">进攻</a>
                                                <b class="triangle"></b>
                                            </li>
                                            <li class="f-l" data-value="defense">
                                                <a href="javascript:;">防守</a>
                                                <b class="triangle"></b>
                                            </li>
                                        </ul>
                                    </div>

                                    <ul class="player-details basic">
                                        <li>
                                            <span class="f-l itemName">控球率</span>
                                            <span class="f-r">49%</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">射门</span>
                                            <span class="f-r">52</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">射正</span>
                                            <span class="f-r">2</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">红黄牌</span>
                                            <span class="f-r">12</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">犯规</span>
                                            <span class="f-r">11</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">射门成功率</span>
                                            <span class="f-r">54%</span>
                                        </li>
                                    </ul>

                                    <ul class="player-details attack hide">
                                        <li>
                                            <span class="f-l itemName">控球率</span>
                                            <span class="f-r">49%</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">射门</span>
                                            <span class="f-r">52</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">射正</span>
                                            <span class="f-r">2</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">红黄牌</span>
                                            <span class="f-r">12</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">犯规</span>
                                            <span class="f-r">11</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">射门成功率</span>
                                            <span class="f-r">54%</span>
                                        </li>
                                    </ul>

                                    <ul class="player-details defense hide">
                                        <li>
                                            <span class="f-l itemName">控球率</span>
                                            <span class="f-r">49%</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">射门</span>
                                            <span class="f-r">52</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">射正</span>
                                            <span class="f-r">2</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">红黄牌</span>
                                            <span class="f-r">12</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">犯规</span>
                                            <span class="f-r">11</span>
                                        </li>
                                        <li>
                                            <span class="f-l itemName">射门成功率</span>
                                            <span class="f-r">54%</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>

        </div>
    </div>



    <!-- 页面底部 -->
    <div class="footer">
        <p class="copyright">©2015 上海创冰信息科技有限公司 , All Rights Reserved (沪ICP备14033075号-1)</p>
    </div>

</body>

<script src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/snap.svg-min.js"></script>
<script type="text/javascript" src="js/svganimations.js"></script>
<script src="js/hammer.min.js"></script>
<script src="js/commutil.js"></script>
<script src="js/block_field.js"></script>
<script src="js/common.js"></script>
<script src="js/video.js"></script>
<script>

    var code = "";
    var flag = 1;
    var teamId = 1000;
    var opponentTeamId = "";
    var homeTeamId = "";
    var guestTeamId = "";

    var lastPlayBox = "playBox0";

    var playVideoIndex = 0;
    var videoTopHtml;
    // var moduleKeyWord = $(".video-tab ul li.tab-selected").attr("name");
    var moduleKeyWord = "match";
    var matchId = "";
    var leagueId = 1;
    var currentPage = "";
    var pageSize = "";
    var personId = "";
    var league = 1;
    var season = 2017;

    var allPersonIdStr = "";

    $.ajax({
        url: "http://192.168.2.6:8888/dataapi/getTeamSchedule.html?ak=123456&teamId="+teamId+"&season="+season,
        type: "GET",
        dataType: "json",
        success: function (result) {
            result = result.sort(function(a,b){
                return b.matchDate - a.matchDate;
            })
            var res = "";
            var page = 1;
            var totalPage = Math.ceil(result.length / 6)
            res = result.slice(0, 6);

            renderMatchList(res);
            $("#curentPage1").text(page);
            $("#totalPage1").text(totalPage);

            $(".prev-btn1").unbind("click");
            $(".prev-btn1").on("click", function () {
                if (page <= 1) {
                    page = 1;
                    return;
                }
                page--;
                $("#curentPage1").text(page);
                res = result.slice((page - 1) * 6, page * 6);
                renderMatchList(res);
            })
            $(".next-btn1").unbind("click");
            $(".next-btn1").on("click", function () {
                if (page >= totalPage) {
                    page = totalPage;
                    return;
                }
                page++;
                $("#curentPage1").text(page);
                res = result.slice((page - 1) * 6, page * 6);
                renderMatchList(res);
            })
        },
        error: function (result) {
            
        }
    })

    // 页面加载自动调用球员列表接口渲染
    getTeamPersonList();

    // 比赛、事件、球员分析切换
    $(".video-tab ul li").click(function () {
        $(this).addClass("tab-selected").siblings().removeClass("tab-selected");
        var name = $(this).attr("name");
        $(".video-info-body").addClass("hide");
        $("." + name).removeClass("hide");
        moduleKeyWord = name.split("-")[0];
        
        if (moduleKeyWord != "player") {
            personId = "";
        }
    })


    // 比赛列表点击事件(比赛模块)
    $(".match-video-list.game").on("click", "li", function () {
        $(".event-list.match .event-item").hide().removeClass("event-selected");
        code="";
        moduleKeyWord = "match";
        matchId = $(this).data("value");
        $(this).addClass("match-selected").siblings().removeClass("match-selected");
        var tempNode = $(this).children(".hideDiv").html();
        $(".match-result."+moduleKeyWord).show();
        $(".event-list.match").show();
        $(".infor-wraper").html(tempNode);
        getEventList(moduleKeyWord);
        queryVideoList();
        getMatchStaticList();
    })

    // 比赛列表数据方向点击事件(比赛模块)
    $("#matchStaticTab").on("click","li",function(){
        $(this).addClass("type-selected").siblings().removeClass("type-selected");
        var dataValue = $(this).data("value");
        
        $(".data-details."+dataValue).removeClass("hide").siblings().addClass("hide");
    })




    //比赛模块--》事件列表点击筛选视频事件（不点击刚默认全部）
    $(".event-list.match").on("click", "li", function () {
        moduleKeyWord = "match";
        $(this).addClass("event-selected").siblings().removeClass("event-selected");
        code = $(this).attr("name").split(",")[0];
        flag = $(this).attr("name").split(",")[1];
        if (flag == 2) {
            opponentTeamId = teamId;
        } else {
            opponentTeamId = "";
        }
        queryVideoList();

    })

    // 比赛列表点击事件（事件模块）
    $(".match-video-list.event").on("click", "li", function () {
        moduleKeyWord = "event";
        matchId = $(this).data("value");
        homeTeamId = $(this).data("home");
        guestTeamId = $(this).data("guest");
        $(this).addClass("match-selected").siblings().removeClass("match-selected");

        // if($(".event-list.event li.event-selected").hasClass("opposite")){
        //     if(homeTeamId == teamId){
        //         teamId = guestTeamId;
                
        //         getTeamPersonList(true);
                

        //     }else if(guestTeamId == teamId){
        //         teamId = homeTeamId;
        //         getTeamPersonList(true);

        //     }

        // }
        getChalkBoardAjax();
        teamId = "1000";
        personId = "";
        queryVideoList()
        
    })

    //事件模块--》事件列表点击筛选视频事件（必须选中其中一个）
    $(".event-list.event").on("click", "li", function () {
        moduleKeyWord = "event";
        matchId = "";
        $(this).addClass("event-selected").siblings().removeClass("event-selected");
        $(".match-result."+moduleKeyWord).show();
        code = $(this).attr("name").split(",")[0];
        flag = $(this).attr("name").split(",")[1];

        if (flag == 2) {
            opponentTeamId = teamId;
        } else {
            opponentTeamId = "";
        }
        queryVideoList();

    })


    //球员分析--》球员列表选择
    $(".player-list").on("click", "li", function () {
        var srcStr = $(this).children("img").attr("src");
        $(this).addClass("player-selected").siblings().removeClass("player-selected");
        $(".match-result."+moduleKeyWord).show();
        $(".player-info .player-avatar img").attr("src",srcStr);
        personId = $(this).data("value");
        
        matchId = "";
        code="";
        opponentTeamId = "";
        getPlayerInfo();
        getPlayerStaticList();
        queryVideoList();
        $(".event-list.player .event-item").hide();
        
        getEventList(moduleKeyWord);
    })

    //球员分析--》球员事件列表选择 
    $(".event-list.player").on("click","li",function(){

        $(this).addClass("event-selected").siblings().removeClass("event-selected");
        code = $(this).attr("name").split(",")[0];
        flag = $(this).attr("name").split(",")[1];

        if (flag == 2) {
            opponentTeamId = teamId;
        } else {
            opponentTeamId = "";
        }
        
        queryVideoList();
    })

    // 球员分析--球员数据方向(球员分析)
    $("#playerStaticTab").on("click","li",function(){
        $(this).addClass("type-selected").siblings().removeClass("type-selected");
        var dataValue = $(this).data("value");
        $(".player-details."+dataValue).removeClass("hide").siblings(".player-details").addClass("hide");
    })

    // 视频点击播放、暂停
    $('#videoPlayBox-match').click(function () {
        if ($(this).hasClass('pause')) {
            $(this).trigger("play");
            $(this).removeClass('pause');
            $(this).addClass('play');
        } else {
            $(this).trigger("pause");
            $(this).removeClass('play');
            $(this).addClass('pause');
        }
    })

    // 视频双击进入、退出全屏
    $('#videoPlayBox-match').on('dblclick', function () {
        if ($(this)[0].clientHeight === window.screen.height && $(this)[0].clientWidth === window.screen.width) {
            exitFullscreen();
        } else {
            requestFullScreen();
        }
    });

    // 视频点击播放、暂停
    $('#videoPlayBox-event').click(function () {
        if ($(this).hasClass('pause')) {
            $(this).trigger("play");
            $(this).removeClass('pause');
            $(this).addClass('play');
        } else {
            $(this).trigger("pause");
            $(this).removeClass('play');
            $(this).addClass('pause');
        }
    })

    // 视频双击进入、退出全屏
    $('#videoPlayBox-player').on('dblclick', function () {
        if ($(this)[0].clientHeight === window.screen.height && $(this)[0].clientWidth === window.screen.width) {
            exitFullscreen();
        } else {
            requestFullScreen();
        }
    });

        // 视频点击播放、暂停
        $('#videoPlayBox-player').click(function () {
        if ($(this).hasClass('pause')) {
            $(this).trigger("play");
            $(this).removeClass('pause');
            $(this).addClass('play');
        } else {
            $(this).trigger("pause");
            $(this).removeClass('play');
            $(this).addClass('pause');
        }
    })

    // 视频双击进入、退出全屏
    $('#videoPlayBox-player').on('dblclick', function () {
        if ($(this)[0].clientHeight === window.screen.height && $(this)[0].clientWidth === window.screen.width) {
            exitFullscreen();
        } else {
            requestFullScreen();
        }
    });

    
    
    //请求比赛视频列表
    function queryVideoList() {

        $.ajax({
            url: "http://192.168.2.6:8888/dataapi/getMatchVideoList.html?ak=123456&teamId=" + teamId + "&leagueId=" + leagueId + "&opponentTeamId=" + opponentTeamId + "&matchId=" + matchId + "&code=" + code + "&personId=" + personId,
            type: "GET",
            dataType: "json",
            success: function (result) {

                
                if (result == "") {
                    alert("没有相关视频！")
                    return;
                }
                if (moduleKeyWord == "match" && code == "") {

                    // var eventArr = [];
                    // $.each(result,function(i,item){
                    //     if(eventArr.indexOf(item.actionCode) == '-1'){
                    //         eventArr.push(item.actionCode);
                    //     }
                    // })
                    // 
                    // var num = 0; 
                    // $(".event-list.match .event-item").each(function(){
                    //     var eventName = $(this).children("p").text();
                    //     
                    //     if(eventArr.indexOf(eventName) != "-1" || eventArr.indexOf(eventName+"成功") != "-1" || eventArr.indexOf(eventName+"失败") != "-1"){
                    //         num++;
                    //         $(this).show();
                    //     }
                    // })
                    // for(var i = 0; i < result.length; i++){
                    //     var actionCode = result[i].actionCode;
                    //     if((result[i].actionCode).indexOf("成功") != "-1" || (result[i].actionCode).indexOf("失败") != "-1"){
                    //         actionCode =  (result[i].actionCode).slice(0,(result[i].actionCode).length-2);
                    //     }
                    //     // 
                    //     for(var j = 0; j < $(".event-list.match .event-item").length; j++){
                    //         var textStr = $(".event-list.match .event-item").eq(j).children("p").text();
                    //         if(textStr  == actionCode ){
                    //             $(".event-list.match .event-item").eq(j).show();
                    //         }
                    //         // 
                    //     }
                    // }
                  
                } else if (moduleKeyWord == "match" && code != "") {
                    var res = "";
                    var page = 1;
                    var totalPage = Math.ceil(result.length / 5)
                    res = result.slice(0, 5);
                    renderMatchVideoList(res, page);
                    $("#curentPage2").text(page);
                    $("#totalPage2").text(totalPage);

                    $(".prev-btn2").unbind("click");
                    $(".prev-btn2").on("click", function () {
                        if (page <= 1) {
                            page = 1;
                            return;
                        }
                        page--;
                        $("#curentPage2").text(page);
                        res = result.slice((page - 1) * 5, page * 5);
                        renderMatchVideoList(res, page);
                    })
                    $(".next-btn2").unbind("click");
                    $(".next-btn2").on("click", function () {
                        if (page >= totalPage) {
                            page = totalPage;
                            return;
                        }
                        page++;
                        $("#curentPage2").text(page);
                        res = result.slice((page - 1) * 5, page * 5);
                        renderMatchVideoList(res, page);
                    })
                } else if (moduleKeyWord == "event" && matchId == "") {
                    var matchArr = [];
                    var matchIdArr = [];
                    $.each(result, function (i, item) {
                        if (matchIdArr.indexOf(item.matchId) == '-1') {
                            matchArr.push(item);
                            matchIdArr.push(item.matchId);
                        }
                    })
                    
                    var res = "";
                    var page = 1;
                    var totalPage = Math.ceil(matchArr.length / 6)
                    res = matchArr.slice(0, 6);
                    renderMatchList(res);
                    $("#curentPage3").text(page);
                    $("#totalPage3").text(totalPage);

                    $(".prev-btn3").unbind("click");
                    $(".prev-btn3").on("click", function () {
                        if (page <= 1) {
                            page = 1;
                            return;
                        }
                        page--;
                        $("#curentPage3").text(page);
                        res = matchArr.slice((page - 1) * 6, page * 6);
                        renderMatchList(res);
                    })
                    $(".next-btn3").unbind("click");
                    $(".next-btn3").on("click", function () {
                        if (page >= totalPage) {
                            page = totalPage;
                            return;
                        }
                        page++;
                        $("#curentPage3").text(page);
                        res = matchArr.slice((page - 1) * 6, page * 6);
                        renderMatchList(res);
                    })
                } else if (moduleKeyWord == "event" && matchId != "") {
                    var res = "";
                    var page = 1;
                    var totalPage = Math.ceil(result.length / 5)
                    res = result.slice(0, 5);
                    renderMatchVideoList(res, page);
                    $("#curentPage4").text(page);
                    $("#totalPage4").text(totalPage);

                    $(".prev-btn4").unbind("click");
                    $(".prev-btn4").on("click", function () {
                        if (page <= 1) {
                            page = 1;
                            return;
                        }
                        page--;
                        $("#curentPage4").text(page);
                        res = result.slice((page - 1) * 5, page * 5);
                        renderMatchVideoList(res, page);
                    })
                    $(".next-btn4").unbind("click");
                    $(".next-btn4").on("click", function () {
                        if (page >= totalPage) {
                            page = totalPage;
                            return;
                        }
                        page++;
                        $("#curentPage4").text(page);
                        res = result.slice((page - 1) * 5, page * 5);
                        renderMatchVideoList(res, page);
                    })
                } else if (moduleKeyWord == "player" && code != ""){
                    var res = "";
                    var page = 1;
                    var totalPage = Math.ceil(result.length / 5)
                    res = result.slice(0, 5);
                    renderMatchVideoList(res, page);
                    $("#curentPage5").text(page);
                    $("#totalPage5").text(totalPage);

                    $(".prev-btn5").unbind("click");
                    $(".prev-btn5").on("click", function () {
                        if (page <= 1) {
                            page = 1;
                            return;
                        }
                        page--;
                        $("#curentPage5").text(page);
                        res = result.slice((page - 1) * 5, page * 5);
                        renderMatchVideoList(res, page);
                    })
                    $(".next-btn5").unbind("click");
                    $(".next-btn5").on("click", function () {
                        if (page >= totalPage) {
                            page = totalPage;
                            return;
                        }
                        page++;
                        $("#curentPage5").text(page);
                        res = result.slice((page - 1) * 5, page * 5);
                        renderMatchVideoList(res, page);
                    })
                }

            },
            error: function (result) {
                
            }
        })
    }

    // 渲染事件列表
    function getEventList(name){
        $.ajax({
            url: "http://192.168.2.6:8888/dataapi/getPersonVideoCode.html?ak=123456&matchId="+matchId+"&personId="+personId,
            type: "GET",
            dataType: "json",
            success: function (result) {

                    for(var i = 0; i < result.length; i++){
                        var actionCode = result[i].split("|")[0];
                        var teamCode = result[i].split("|")[1];
                        if( teamCode == teamId){
                            var id = actionCode+"-a"+"-"+name;
                            $("#"+id).show();
                        }else{
                            var id = actionCode+"-z"+"-"+name;
                            $("#"+id).show();
                        }
                    }
               
            }
        })
    }

    // 渲染比赛分析->比赛列表封装
    function renderMatchList(res) {
        var html = "";
        
        if (moduleKeyWord == "match") {
            $.each(res, function (i, item) {
                html += '<li class="item f-l" data-value=' + item.id + '>'
                    + '<i class="camera f-l"><img src="images/all-goals.png" alt="" width="24"></i>'
                    + '<div>'
                    + '<p class="match-name">' + item.home + ' ' + item.homeScore + ':' + item.guestScore + ' ' + item.guest + '</p>'
                    + '<p class="match-round">' + item.season + '赛季-' + item.leagueName + item.round + '</p>'
                    + '</div>'
                    + '<i class="detail f-r"></i>'
                    + '<i class="download-pdf f-r"></i>'
                    + '<div class="hideDiv" style="display:none">'
                    + '<div class="against-teams clearfix">'
                    + '<div class="team-profile f-l">'
                    + '<div class="team-logo">'
                    + '<img src="' + item.homeLogoB + '" alt="" width="47" height="47">'
                    + '</div>'
                    + '<h5 class="team-name">' + item.home + '</h5>'
                    + '</div>'
                    + '<div class="against-time f-l">'
                    + '<div>'
                    + '<p>' + formatDate(item.matchDate).split(" ")[0] + '</p>'
                    + '<p>' + formatDate(item.matchDate).split(" ")[1] + '</p>'
                    + '<p>' + (item.season + item.leagueName) + '</p>'
                    + '<p>' + (isNaN(item.round) ? item.round :'第'+ item.round + '轮')  + '</p>'
                    + '</div>'
                    + '</div>'
                    + '<div class="team-profile f-r">'
                    + '<div class="team-logo">'
                    + '<img src="' + item.guestLogoB + '" alt="" width="47" height="47">'
                    + '</div>'
                    + '<h5 class="team-name">' + item.guest + '</h5>'
                    + '</div>'
                    + '</div>'
                    + '<p class="against-score">'
                    + '<b class="home-score f-l">' + item.homeScore + '</b>'
                    + '<span class="finish-or-not f-l">已完赛</span>'
                    + '<b class="away-score f-r">' + item.guestScore + '</b>'
                    + '</p>'
                    + '</div>'
                    + '</li>'
            })
            $(".match-video-list.game").html(html);
        } else if (moduleKeyWord == "event") {
            $.each(res, function (i, item) {
                html += '<li class="item f-l" data-value=' + item.matchId + ' data-guest=' + item.guestTeamId + ' data-home=' + item.homeTeamId + '>'
                    + '<i class="camera f-l"><img src="images/all-goals.png" alt="" width="24"></i>'
                    + '<div>'
                    + '<p class="match-name">' + item.homeTeamName + ' ' + item.homeScore + ':' + item.guestScore + ' ' + item.guestTeamName + '</p>'
                    + '<p class="match-round">' + item.matchDate + '</p>'
                    + '</div>'
                    + '</li>'
            })
            $(".match-video-list.event").html(html);
        }

    }

    //渲染比赛视频列表
    function renderMatchVideoList(res, page) {

        var html = "";
        if (moduleKeyWord == "match") {
            $.each(res, function (i, item) {
                var videoTopHtml = "'" + item.personName + "-" + item.actionCode + "&nbsp;&nbsp;" + item.homeTeamName + "-" + item.guestTeamName + "&nbsp;&nbsp;" + item.homeScore + " : " + item.guestScore + "'";
                item.mediaOssUrl = "'" + item.mediaOssUrl + "'";
                html += '<li class="time-list f-l" id="playBox' + i + '" onclick="playMedia(' + videoTopHtml + ',' + item.mediaOssUrl + ',' + i + ')">'
                    + '<b>' + ((page - 1) * 5 + i + 1) + '</b>'
                    + '<p>' + item.personName + '-' + item.actionCode + '&nbsp;&nbsp;' + item.matchDate + '</p>'
                    + '<input type="checkbox" class="checkbox f-r">'
                    + '<i class="f-r"><img src="images/video-download.png" width="7" alt=""></i>'
                    + '</li>';
            })
            $(".time-quantum.game ul").html(html);
            $("#playBox" + 0).trigger("click");
            $('#videoPlayBox-' + moduleKeyWord).trigger('pause');
        } else if (moduleKeyWord == "event") {
            $.each(res, function (i, item) {
                var videoTopHtml = "'" + item.personName + "-" + item.actionCode + "&nbsp;&nbsp;" + item.homeTeamName + "-" + item.guestTeamName + "&nbsp;&nbsp;" + item.homeScore + " : " + item.guestScore + "'";
                item.mediaOssUrl = "'" + item.mediaOssUrl + "'";
                html += '<li class="time-list f-l" id="playBox' + i + 'event" onclick="playMedia(' + videoTopHtml + ',' + item.mediaOssUrl + ',' + i + ')">'
                    + '<b>' + ((page - 1) * 5 + i + 1) + '</b>'
                    + '<p>' + item.personName + '-' + item.actionCode + '&nbsp;&nbsp;' + item.matchDate + '</p>'
                    + '<input type="checkbox" class="checkbox f-r">'
                    + '<i class="f-r"><img src="images/video-download.png" width="7" alt=""></i>'
                    + '</li>';
            })
            $(".time-quantum.event ul").html(html);
            $("#playBox" + 0 + "event").trigger("click");
            $('#videoPlayBox-' + moduleKeyWord).trigger('pause');
        } else if (moduleKeyWord == "player") {
            $.each(res, function (i, item) {
                var videoTopHtml = "'" + item.personName + "-" + item.actionCode + "&nbsp;&nbsp;" + item.homeTeamName + "-" + item.guestTeamName + "&nbsp;&nbsp;" + item.homeScore + " : " + item.guestScore + "'";
                item.mediaOssUrl = "'" + item.mediaOssUrl + "'";
                html += '<li class="time-list f-l" id="playBox' + i + 'player" onclick="playMedia(' + videoTopHtml + ',' + item.mediaOssUrl + ',' + i + ')">'
                    + '<b>' + ((page - 1) * 5 + i + 1) + '</b>'
                    + '<p>' + item.personName + '-' + item.actionCode + '&nbsp;&nbsp;' + item.matchDate + '</p>'
                    + '<input type="checkbox" class="checkbox f-r">'
                    + '<i class="f-r"><img src="images/video-download.png" width="7" alt=""></i>'
                    + '</li>';
            })
            $(".time-quantum.player ul").html(html);
            $("#playBox" + 0 + "player").trigger("click");
            $('#videoPlayBox-' + moduleKeyWord).trigger('pause');
        }

    }
    //播放视频
    function playMedia(param, mediaUrl, index) {

        if (moduleKeyWord == "match") {
            $("#" + lastPlayBox).removeClass("play-now");
            $("#playBox" + index).toggleClass("play-now", true);

            $("#videoTopHtml").html(param);

            $("#videoPlayBox-" + moduleKeyWord).attr("src", mediaUrl);
            $("#videoPlayBox-" + moduleKeyWord).attr("autoplay", "true");

            $("#videoPlayBox-" + moduleKeyWord).show();
            lastPlayBox = "playBox" + index;
            playVideoIndex = index;
            $("#videoPlayBox-" + moduleKeyWord).on("ended", function () {
                $("#playBox" + (index + 1)).trigger("click");
                index = index + 1;
            })
        } else if (moduleKeyWord == "event") {
            $("#" + lastPlayBox + "event").removeClass("play-now");
            $("#playBox" + index + "event").toggleClass("play-now", true);

            $("#videoTopHtmlEvent").html(param);

            $("#videoPlayBox-" + moduleKeyWord).attr("src", mediaUrl);
            $("#videoPlayBox-" + moduleKeyWord).attr("autoplay", "true");

            $("#videoPlayBox-" + moduleKeyWord).show();

            lastPlayBox = "playBox" + index;
            playVideoIndex = index;
            $("#videoPlayBox-" + moduleKeyWord).on("ended", function () {
                $("#playBox" + (index + 1) + "event").trigger("click");
                index = index + 1;
            })
        }else if (moduleKeyWord == "player") {
            $("#" + lastPlayBox + "player").removeClass("play-now");
            $("#playBox" + index + "player").toggleClass("play-now", true);

            $("#videoTopHtmlPlayer").html(param);

            $("#videoPlayBox-" + moduleKeyWord).attr("src", mediaUrl);
            $("#videoPlayBox-" + moduleKeyWord).attr("autoplay", "true");

            $("#videoPlayBox-" + moduleKeyWord).show();

            lastPlayBox = "playBox" + index;
            playVideoIndex = index;
            $("#videoPlayBox-" + moduleKeyWord).on("ended", function () {
                $("#playBox" + (index + 1) + "player").trigger("click");
                index = index + 1;
            })
        }


    }

    //进入全屏
    function requestFullScreen() {
        if (moduleKeyWord == "match") {
            var de = document.getElementById("videoPlayBox-match");
        } else if (moduleKeyWord == "event") {
            var de = document.getElementById("videoPlayBox-event");
        }else if (moduleKeyWord == "player") {
            var de = document.getElementById("videoPlayBox-player");
        }

        if (de.requestFullscreen) {
            de.requestFullscreen();
        } else if (de.mozRequestFullScreen) {
            de.mozRequestFullScreen();
        } else if (de.webkitRequestFullScreen) {
            de.webkitRequestFullScreen();
        }
    }
    //退出全屏
    function exitFullscreen() {
        var de = document;
        if (de.exitFullscreen) {
            de.exitFullscreen();
        } else if (de.mozCancelFullScreen) {
            de.mozCancelFullScreen();
        } else if (de.webkitCancelFullScreen) {
            de.webkitCancelFullScreen();
        }
    }

    
    // 点击球员模块，请求球队球员列表
    function getTeamPersonList(flag) {
     
        $.ajax({
            url: "http://192.168.2.6:8888/dataapi/getTeamPersonList.html?ak=123456&teamId=" + teamId + "&season=" + season,
            type: "GET",
            dataType: "json",
            success: function (result) {
                var html = "";
                allPersonIdStr = "";
                $.each(result, function (i, item) {
                   
                    if(allPersonIdStr == ""){
                        allPersonIdStr += "'" +item.id+"'";
                    }else{
                        allPersonIdStr += "," +"'"+item.id+"'";
                    }            
                    
                    if(!flag){
                        html += '<li data-value=' + item.id + '>' +
                        '<img src="' + item.personPhoto + '" alt="">' +
                        '<p class="player-name">' + item.personName + '</p>' +
                        '</li>'
                    }
                   
                })
                console.log(allPersonIdStr)
                if(!flag){
                    $(".player-list").html(html);
                }
            
            }
        })
    }

    $("img").one("error", function(e){
        // alert(1)
        $(this).attr('src',"./images/avator_error.png");
    })

    // 比赛分析--》比赛列表点击右侧渲染比赛基本数据
    function getMatchStaticList() {
        $.ajax({
            url: "http://192.168.2.6:8888/dataapi/match/static.html?ak=123456&matchId=" + matchId + "&isImportent=",
            type: "GET",
            dataType: "json",
            success: function (result) {
                $.each(result, function (i, item) {
                    if (item.action == "控球率") {
                        $(".data-bar.possession span").eq(0).html(toPercent(item.homeValue));
                        $(".data-bar.possession span").eq(1).html(toPercent(item.guestValue));
                        $(".data-bar.possession .bar-per").css({ "width": toPercent(item.homeValue) });

                    } else if (item.action == "射门") {
                        $(".data-bar.shots span").eq(0).html(item.homeValue);
                        $(".data-bar.shots span").eq(1).html(item.guestValue);
                        $(".data-bar.shots .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    } else if (item.action == "传球") {
                        $(".data-bar.passes span").eq(0).html(item.homeValue);
                        $(".data-bar.passes span").eq(1).html(item.guestValue);
                        $(".data-bar.passes .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    } else if (item.action == "传球成功率") {
                        $(".data-bar.passes-Accuracy span").eq(0).html(toPercent(item.homeValue));
                        $(".data-bar.passes-Accuracy span").eq(1).html(toPercent(item.guestValue));
                        $(".data-bar.passes-Accuracy .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    } else if (item.action == "黄牌") {
                        $(".data-bar.yellow-Cards span").eq(0).html(item.homeValue);
                        $(".data-bar.yellow-Cards span").eq(1).html(item.guestValue);
                        $(".data-bar.yellow-Cards .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }else if (item.action == "有效比赛时间（分）") {
                        $(".data-bar.effectiveTime span").eq(0).html(item.homeValue);
                        $(".data-bar.effectiveTime span").eq(1).html(item.guestValue);
                        $(".data-bar.effectiveTime .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }else if (item.action == "射正") {
                        $(".data-bar.shot-on-target span").eq(0).html(item.homeValue);
                        $(".data-bar.shot-on-target span").eq(1).html(item.guestValue);
                        $(".data-bar.shot-on-target .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }else if (item.action == "进攻30米区传球") {
                        $(".data-bar.passesInAttackingThirds span").eq(0).html(item.homeValue);
                        $(".data-bar.passesInAttackingThirds span").eq(1).html(item.guestValue);
                        $(".data-bar.passesInAttackingThirds .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }else if (item.action == "进攻30米区传球成功率") {
                        $(".data-bar.passesInAttackingThirdsP span").eq(0).html(toPercent(item.homeValue));
                        $(".data-bar.passesInAttackingThirdsP span").eq(1).html(toPercent(item.guestValue));
                        $(".data-bar.passesInAttackingThirdsP .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }else if (item.action == "传中") {
                        $(".data-bar.centers span").eq(0).html(item.homeValue);
                        $(".data-bar.centers span").eq(1).html(item.guestValue);
                        $(".data-bar.centers .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }else if (item.action == "越位") {
                        $(".data-bar.offsides span").eq(0).html(item.homeValue);
                        $(".data-bar.offsides span").eq(1).html(item.guestValue);
                        $(".data-bar.offsides .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }else if (item.action == "角球") {
                        $(".data-bar.corners span").eq(0).html(item.homeValue);
                        $(".data-bar.corners span").eq(1).html(item.guestValue);
                        $(".data-bar.corners .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }else if (item.action == "抢断成功") {
                        $(".data-bar.tacklesSuccess span").eq(0).html(item.homeValue);
                        $(".data-bar.tacklesSuccess span").eq(1).html(item.guestValue);
                        $(".data-bar.tacklesSuccess .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }else if (item.action == "拦截") {
                        $(".data-bar.interceptions span").eq(0).html(item.homeValue);
                        $(".data-bar.interceptions span").eq(1).html(item.guestValue);
                        $(".data-bar.interceptions .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }else if (item.action == "解围") {
                        $(".data-bar.clearances span").eq(0).html(item.homeValue);
                        $(".data-bar.clearances span").eq(1).html(item.guestValue);
                        $(".data-bar.clearances .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }else if (item.action == "赢得空中对抗") {
                        $(".data-bar.aerialDuelsWin span").eq(0).html(item.homeValue);
                        $(".data-bar.aerialDuelsWin span").eq(1).html(item.guestValue);
                        $(".data-bar.aerialDuelsWin .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }else if (item.action == "空中对抗成功率") {
                        $(".data-bar.aerialDuelsPer span").eq(0).html(toPercent(item.homeValue));
                        $(".data-bar.aerialDuelsPer span").eq(1).html(toPercent(item.guestValue));
                        $(".data-bar.aerialDuelsPer .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }else if (item.action == "犯规") {
                        $(".data-bar.fouls span").eq(0).html(item.homeValue);
                        $(".data-bar.fouls span").eq(1).html(item.guestValue);
                        $(".data-bar.fouls .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                    }

                })
            }
        })
    }

    // 球员分析--》球员列表点击右侧渲染球员基本信息
    function getPlayerInfo(){
        $.ajax({
            url: "http://192.168.2.6:8888/dataapi/getPersonObj.html?ak=123456&personId="+personId+"&leagueId=" + leagueId,
            type: "GET",
            dataType: "json",
            success: function (result) {
                $(".player-info p").text(result.name);
                $(".player-info .player-stats li").eq(0).text("年龄："+(new Date().getFullYear() - (result.birthday).split("-")[0]))
                $(".player-info .player-stats li").eq(1).text("体重："+result.weight+" KG");
                $(".player-info .player-stats li").eq(2).text("国籍："+result.country);
                $(".player-info .player-stats li").eq(3).text("位置："+result.position);
                $(".player-info .player-stats li").eq(4).text("身高："+result.stature+" CM");
            }
        })
    }

    // 球员分析--》球员列表点击右侧渲染球员基本数据
    function getPlayerStaticList() {
        $.ajax({
            url: "http://192.168.2.6:8888/dataapi/getPersonData.html?ak=123456&personId="+personId+"&leagueId=" + leagueId+"&season=" + season,
            type: "GET",
            dataType: "json",
            success: function (result) {
                console.log(result)
                if(result.personPosition != "门将"){
                    $(".player-details.basic li").eq(0).children(".itemName").text("出场次数").siblings().text(result.gamesPlayed);
                    $(".player-details.basic li").eq(1).children(".itemName").text("进球").siblings().text(result.goals);
                    $(".player-details.basic li").eq(2).children(".itemName").text("助攻").siblings().text(result.assists);
                    $(".player-details.basic li").eq(3).children(".itemName").text("场均传球").siblings().text((result.passes/result.gamesPlayed).toFixed(1));
                    $(".player-details.basic li").eq(4).children(".itemName").text("传球成功率").siblings().text(toPercent(result.passesAccuracy));
                    $(".player-details.basic li").eq(5).children(".itemName").text("场均抢断").siblings().text((result.tackles/result.gamesPlayed).toFixed(1));
                    $(".player-details.attack li").eq(0).children(".itemName").text("场均射门").siblings().text((result.shots/result.gamesPlayed).toFixed(1));
                    $(".player-details.attack li").eq(1).children(".itemName").text("场均创造机会").siblings().text((result.createChance/result.gamesPlayed).toFixed(1));
                    $(".player-details.attack li").eq(2).children(".itemName").text("场均传中").siblings().text((result.center/result.gamesPlayed).toFixed(1));
                    $(".player-details.attack li").eq(3).children(".itemName").text("场均越位").siblings().text((result.offsides/result.gamesPlayed).toFixed(1));
                    $(".player-details.attack li").eq(4).children(".itemName").text("场均过人").siblings().text((result.breakSucc/result.gamesPlayed).toFixed(1));
                    $(".player-details.attack li").eq(5).children(".itemName").text("场均被犯规").siblings().text((result.foulsConceded/result.gamesPlayed).toFixed(1));
                    $(".player-details.defense li").eq(0).children(".itemName").text("场均拦截").siblings().text((result.interceptions/result.gamesPlayed).toFixed(1));
                    $(".player-details.defense li").eq(1).children(".itemName").text("场均解围").siblings().text((result.clearances/result.gamesPlayed).toFixed(1));
                    $(".player-details.defense li").eq(2).children(".itemName").text("场均封堵传球").siblings().text((result.blocksPasses/result.gamesPlayed).toFixed(1));
                    $(".player-details.defense li").eq(3).children(".itemName").text("场均封堵射门").siblings().text((result.blocksShots/result.gamesPlayed).toFixed(1));
                    $(".player-details.defense li").eq(4).children(".itemName").text("场均犯规").siblings().text((result.fouls/result.gamesPlayed).toFixed(1));
                    $(".player-details.defense li").eq(5).children(".itemName").text("场均黄牌").siblings().text((result.yellowCard/result.gamesPlayed).toFixed(1));
                }else{
                    $(".player-details.basic li").eq(0).children(".itemName").text("出场次数").siblings().text(result.gamesPlayed);
                    $(".player-details.basic li").eq(1).children(".itemName").text("零封场次").siblings().text(result.cleanSheets);
                    $(".player-details.basic li").eq(2).children(".itemName").text("场均扑救").siblings().text((result.saves/result.gamesPlayed).toFixed(1));
                    $(".player-details.basic li").eq(3).children(".itemName").text("场均成功手抛球").siblings().text((result.goalKeepperHandBallSucc/result.gamesPlayed).toFixed(1));
                    $(".player-details.basic li").eq(4).children(".itemName").text("场均成功门球").siblings().text((result.goalKeepperGoalKickSucc/result.gamesPlayed).toFixed(1));
                    $(".player-details.basic li").eq(5).children(".itemName").text("传球成功率").siblings().text(toPercent(result.passesAccuracy));
                    $(".player-details.attack li").eq(0).children(".itemName").text("场均传球").siblings().text((result.passes/result.gamesPlayed).toFixed(1));
                    $(".player-details.attack li").eq(1).children(".itemName").text("场均成功传球").siblings().text((result.passes*result.passesAccuracy/result.gamesPlayed).toFixed(1));
                    $(".player-details.attack li").eq(2).children(".itemName").text("场均长传").siblings().text((result.passLong/result.gamesPlayed).toFixed(1));
                    $(".player-details.attack li").eq(3).children(".itemName").text("长传成功率").siblings().text(result.passLongAcc);
                    $(".player-details.attack li").eq(4).children(".itemName").text("场均短传").siblings().text((result.passShorts/result.gamesPlayed).toFixed(1));
                    $(".player-details.attack li").eq(5).children(".itemName").text("短传成功率").siblings().text("无");
                    $(".player-details.defense li").eq(0).children(".itemName").text("场均门将击出").siblings().text((result.goalKeepperHit/result.gamesPlayed).toFixed(1));
                    $(".player-details.defense li").eq(1).children(".itemName").text("场均出击").siblings().text((result.goalKeepperAttack/result.gamesPlayed).toFixed(1));
                    $(".player-details.defense li").eq(2).children(".itemName").html("<b>场均拦截传中（击出传中+抱住传中）</b>").siblings().text(((result.goalKeeperHitCenter+result.goalKeeperHoldCenter)/result.gamesPlayed).toFixed(1));
                    $(".player-details.defense li").eq(3).children(".itemName").text("场均解围").siblings().text((result.clearances/result.gamesPlayed).toFixed(1));
                    $(".player-details.defense li").eq(4).children(".itemName").text("场均犯规").siblings().text((result.fouls/result.gamesPlayed).toFixed(1));
                    $(".player-details.defense li").eq(5).children(".itemName").text("场均被犯规").siblings().text((result.foulsConceded/result.gamesPlayed).toFixed(1));
                }
                // $.each(result, function (i, item) {
                //     if (item.action == "控球率") {
                //         $(".data-bar.possession span").eq(0).html(toPercent(item.homeValue));
                //         $(".data-bar.possession span").eq(1).html(toPercent(item.guestValue));
                //         $(".data-bar.possession .bar-per").css({ "width": toPercent(item.homeValue) });

                //     } else if (item.action == "射门") {
                //         $(".data-bar.shots span").eq(0).html(item.homeValue);
                //         $(".data-bar.shots span").eq(1).html(item.guestValue);
                //         $(".data-bar.shots .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     } else if (item.action == "传球") {
                //         $(".data-bar.passes span").eq(0).html(item.homeValue);
                //         $(".data-bar.passes span").eq(1).html(item.guestValue);
                //         $(".data-bar.passes .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     } else if (item.action == "传球成功率") {
                //         $(".data-bar.passes-Accuracy span").eq(0).html(toPercent(item.homeValue));
                //         $(".data-bar.passes-Accuracy span").eq(1).html(toPercent(item.guestValue));
                //         $(".data-bar.passes-Accuracy .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     } else if (item.action == "黄牌") {
                //         $(".data-bar.yellow-Cards span").eq(0).html(item.homeValue);
                //         $(".data-bar.yellow-Cards span").eq(1).html(item.guestValue);
                //         $(".data-bar.yellow-Cards .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }else if (item.action == "有效比赛时间（分）") {
                //         $(".data-bar.effectiveTime span").eq(0).html(item.homeValue);
                //         $(".data-bar.effectiveTime span").eq(1).html(item.guestValue);
                //         $(".data-bar.effectiveTime .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }else if (item.action == "射正") {
                //         $(".data-bar.shot-on-target span").eq(0).html(item.homeValue);
                //         $(".data-bar.shot-on-target span").eq(1).html(item.guestValue);
                //         $(".data-bar.shot-on-target .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }else if (item.action == "进攻30米区传球") {
                //         $(".data-bar.passesInAttackingThirds span").eq(0).html(item.homeValue);
                //         $(".data-bar.passesInAttackingThirds span").eq(1).html(item.guestValue);
                //         $(".data-bar.passesInAttackingThirds .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }else if (item.action == "进攻30米区传球成功率") {
                //         $(".data-bar.passesInAttackingThirdsP span").eq(0).html(toPercent(item.homeValue));
                //         $(".data-bar.passesInAttackingThirdsP span").eq(1).html(toPercent(item.guestValue));
                //         $(".data-bar.passesInAttackingThirdsP .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }else if (item.action == "传中") {
                //         $(".data-bar.centers span").eq(0).html(item.homeValue);
                //         $(".data-bar.centers span").eq(1).html(item.guestValue);
                //         $(".data-bar.centers .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }else if (item.action == "越位") {
                //         $(".data-bar.offsides span").eq(0).html(item.homeValue);
                //         $(".data-bar.offsides span").eq(1).html(item.guestValue);
                //         $(".data-bar.offsides .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }else if (item.action == "角球") {
                //         $(".data-bar.corners span").eq(0).html(item.homeValue);
                //         $(".data-bar.corners span").eq(1).html(item.guestValue);
                //         $(".data-bar.corners .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }else if (item.action == "抢断成功") {
                //         $(".data-bar.tacklesSuccess span").eq(0).html(item.homeValue);
                //         $(".data-bar.tacklesSuccess span").eq(1).html(item.guestValue);
                //         $(".data-bar.tacklesSuccess .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }else if (item.action == "拦截") {
                //         $(".data-bar.interceptions span").eq(0).html(item.homeValue);
                //         $(".data-bar.interceptions span").eq(1).html(item.guestValue);
                //         $(".data-bar.interceptions .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }else if (item.action == "解围") {
                //         $(".data-bar.clearances span").eq(0).html(item.homeValue);
                //         $(".data-bar.clearances span").eq(1).html(item.guestValue);
                //         $(".data-bar.clearances .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }else if (item.action == "赢得空中对抗") {
                //         $(".data-bar.aerialDuelsWin span").eq(0).html(item.homeValue);
                //         $(".data-bar.aerialDuelsWin span").eq(1).html(item.guestValue);
                //         $(".data-bar.aerialDuelsWin .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }else if (item.action == "空中对抗成功率") {
                //         $(".data-bar.aerialDuelsPer span").eq(0).html(toPercent(item.homeValue));
                //         $(".data-bar.aerialDuelsPer span").eq(1).html(toPercent(item.guestValue));
                //         $(".data-bar.aerialDuelsPer .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }else if (item.action == "犯规") {
                //         $(".data-bar.fouls span").eq(0).html(item.homeValue);
                //         $(".data-bar.fouls span").eq(1).html(item.guestValue);
                //         $(".data-bar.fouls .bar-per").css({ "width": toPercent(item.homeValue / (item.homeValue + item.guestValue)) });
                //     }

                // })
            }
        })
    }

    // 
    function toPercent(point){
        var str=Number(point*100).toFixed(1);
        str+="%";
        return str;
    }

    // 时间戳转化为日期
    function formatDate(now) { 
        var now = new Date(now); 
        var year=now.getFullYear(); 
        var month=now.getMonth()+1 < 10 ? '0'+(now.getMonth()+1) : now.getMonth()+1;
        var date=now.getDate() < 10 ? '0' + now.getDate() : now.getDate(); 
        var hour=now.getHours() < 10 ? '0' + now.getHours() : now.getHours();  
        var minute=now.getMinutes() < 10 ? '0' + now.getMinutes() : now.getMinutes(); 
        var second=now.getSeconds() < 10 ? '0' + now.getSeconds() : now.getSeconds(); 
        return year+"-"+month+"-"+date+" "+hour+":"+minute+":"+second; 
    } 



    // 请求白板数据封装
    function getChalkBoardAjax(){
        //获取personId
        personId = allPersonIdStr;
        // 过人成功和过人失败
        if (code.indexOf("171") > 0) {
            code = code.replace(/171/g, "86','172");
        }
        // 抢断成功和抢断失败
        if (code.indexOf("358") > 0) {
            code = code.replace(/358/g, "26','350");
        }
        // 空中对抗
        if (code.indexOf("356") > 0) {
            code = code.replace(/356/g, "61','400");
        }
        // 失误=失误+控球失误
        if (code.indexOf("412") > 0) {
            code = code.replace(/412/g, "66','412");
        }
        //门将出击成功和门将出击失败
        if (code.indexOf("359") > 0) {
            code = code.replace(/359/g, "352','353");
        }
        //如果选择了红牌或黄牌，则需要加上黄牌变红牌的代码
        if(code.indexOf("24") > 0 || code.indexOf("25") > 0){
            code += ",'117'";
        }
        //如果选择进球，则将乌龙球加入进去
        if(code.indexOf("1") > -1){
            var codestr = code.split(",");
            for ( var i = 0; i < codestr.length; i++) {
                if ("'1'" == codestr[i]) {
                    code += ",'87'";
                }
            }
        }
        //获取passCode
        passCode = "";
        $(".list-menu .lv2-check.passes").each(function(){
            if( $(this).attr("checked")){
                if(passCode == ""){
                    passCode += "'" +$(this).val()+"'";
                }else{
                    passCode += "," +"'"+$(this).val()+"'";
                }            
            }
        })    
        //接球
        if($("#check_recive").attr("checked")){
            passCode="505";
        }
        // 获取时间区间timeStart,timeEnd

        timeStart = 0;

        timeEnd = 902;
       


        timeStartHalf = "1";


        timeEndHalf = "2";

        areaBlockedFrom = "areaForm26,areaForm25,areaForm3,areaForm4,areaForm5,areaForm6,areaForm7,areaForm8,areaForm9,areaForm10,areaForm11,areaForm12,areaForm13,areaForm14,areaForm15,areaForm16,areaForm17,areaForm18,areaForm19,areaForm20,areaForm21,areaForm22,areaForm23,areaForm24";
        areaBlockedTo = "";
        // 获取选择事件发生和结束区域areaBlockedFrom
        // 发生区域
        // var selectedLiClassNameS = $(".event-start li[class*='select']").attr("class").split(" ")[0];
        // switch (selectedLiClassNameS) {
        //     case "all":
        //         areaBlockedFrom = "areaForm26,areaForm25,areaForm3,areaForm4,areaForm5,areaForm6,areaForm7,areaForm8,areaForm9,areaForm10,areaForm11,areaForm12,areaForm13,areaForm14,areaForm15,areaForm16,areaForm17,areaForm18,areaForm19,areaForm20,areaForm21,areaForm22,areaForm23,areaForm24";
        //         break;
        //     case "left":
        //         areaBlockedFrom = "areaForm26,areaForm25,areaForm3,areaForm7,areaForm8,areaForm9,areaForm13,areaForm14,areaForm15,areaForm19,areaForm20,areaForm21";
        //         break;
        //     case "right":
        //         areaBlockedFrom = "areaForm4,areaForm10,areaForm11,areaForm5,areaForm6,areaForm12,areaForm16,areaForm17,areaForm18,areaForm22,areaForm23,areaForm24";
        //         break;
        //     case "center":
        //         areaBlockedFrom = "areaForm3,areaForm4,areaForm9,areaForm10,areaForm15,areaForm16,areaForm21,areaForm22";
        //         break;
        //     case "top":
        //         areaBlockedFrom = "areaForm26,areaForm25,areaForm3,areaForm4,areaForm5,areaForm6";
        //         break;
        //     case "bottom":
        //         areaBlockedFrom = "areaForm19,areaForm20,areaForm21,areaForm22,areaForm23,areaForm24";
        //         break;
        //     case "middle":
        //         areaBlockedFrom = "areaForm7,areaForm8,areaForm13,areaForm14,areaForm9,areaForm15,areaForm10,areaForm16,areaForm11,areaForm17,areaForm12,areaForm18";
        //         break;
        // }
        // 结束区域areaBlockedTo
        // var selectedLiClassNameE = $(".event-end li[class*='select']").attr("class").split(" ")[0];
        // switch (selectedLiClassNameE) {
        //     case "all":
        //         areaBlockedTo = "areaTo26,areaTo25,areaTo3,areaTo4,areaTo5,areaTo6,areaTo7,areaTo8,areaTo9,areaTo10,areaTo11,areaTo12,areaTo13,areaTo14,areaTo15,areaTo16,areaTo17,areaTo18,areaTo19,areaTo20,areaTo21,areaTo22,areaTo23,areaTo24";
        //         break;
        //     case "left":
        //         areaBlockedTo = "areaTo26,areaTo25,areaTo3,areaTo7,areaTo8,areaTo9,areaTo13,areaTo14,areaTo15,areaTo19,areaTo20,areaTo21";
        //         break;
        //     case "right":
        //         areaBlockedTo = "areaTo4,areaTo10,areaTo11,areaTo5,areaTo6,areaTo12,areaTo16,areaTo17,areaTo18,areaTo22,areaTo23,areaTo24";
        //         break;
        //     case "center":
        //         areaBlockedTo = "areaTo3,areaTo4,areaTo9,areaTo10,areaTo15,areaTo16,areaTo21,areaTo22";
        //         break;
        //     case "top":
        //         areaBlockedTo = "areaTo26,areaTo25,areaTo3,areaTo4,areaTo5,areaTo6";
        //         break;
        //     case "bottom":
        //         areaBlockedTo = "areaTo19,areaTo20,areaTo21,areaTo22,areaTo23,areaTo24";
        //         break;
        //     case "middle":
        //         areaBlockedTo = "areaTo7,areaTo8,areaTo13,areaTo14,areaTo9,areaTo15,areaTo10,areaTo16,areaTo11,areaTo17,areaTo12,areaTo18";
        //         break;
        // }

        // 拖拽区域选择draftedFrom,draftedTo
        draftedFrom = ""; //老版本需要字段，新版本不需要，默认为空
        draftedTo = ""; //老版本需要字段，新版本不需要，默认为空
        // 是否加时赛
        isOverTime = 0;

        half = 0;
        $("#chalk-board").empty();
        var m2 = getMarkerArrow1("chalk-board");

        
        if(personId != "" && code != ""){
            $.ajax({
                url: "http://192.168.2.6:8888/dataapi/match/trace.html?ak=123456&matchId="+matchId +"&half="+half+"&personId="+personId+"&code="+code+"&areaBlockedFrom="+areaBlockedFrom+"&draftedFrom="+draftedFrom+"&timeStart="+timeStart+"&timeEnd="+timeEnd+"&timeStartHalf="+timeStartHalf+"&timeEndHalf="+timeEndHalf+"&isOverTime="+isOverTime,
                type: "GET",
                dataType: "json",
                success: function (result) {
                    
                    var json = eval(result);
                    json = $.map(json, function(item){
                        item.x = item.x * 0.56592;
                        item.y = item.y * 0.56835;
                        return item;
                    });
                    $.each(json, function(i, item) {

                        if(!item.code){
                            return true;
                        }
                        var teamType = "H";
                        
                        if(item.teamId == guestTeamId){
                            teamType = "G";
                        }
                        if(item.codeType==1||item.codeType==5){//进攻
                            if(item.code!="555"){//落球点除外
                                $.each(json, function(j, item555) {
                                    if(item.groupNo == item555.groupNo && item555.code==555){
                                        
                                        drawLineEnd("chalk-board",m2,item.y, 352 - item.x,item555.y, 352 - item555.x,item.teamId,item555.teamId,"1","2",item.code,item.groupNo,null);//后面person1和person2不一样，就为实线
                                    }
                                });
                                if(item.code == 1 || item.code == 87){
                                    drawGoal("chalk-board", item.half,item.y, 352 - item.x,json[i+1]["x"], item.personNumber,item.personName,item.groupNo,item.eventTimeNum,item.actionName,teamType,null)
                                }else{
                                    drawAttack("chalk-board", item.half,item.x, item.y, item.personNumber,item.personName,10,teamType,item.groupNo,item.eventTimeNum,item.code,item.actionName,null);
                                }
                            }
                        }else if(item.codeType==2 &&  item.code != ""){//防守
                            if(item.code ==204 ||item.code ==205 ||item.code ==502 ){//阻断传球，阻断射门，守门员扑球，需要显示线路
                                $.each(json, function(j, itemDefend) {
                                    if(item.groupNo == itemDefend.groupNo && isEmpty(itemDefend.code)){
                                        drawPersonBlock("chalk-board",itemDefend.personNumber,itemDefend.x,itemDefend.y,item.personNumber,item.x,item.y,itemDefend.teamId);
                                        return false;
                                    }
                                });
                            }
                            drawyTriangle("chalk-board",item.half, item.x, item.y, item.personNumber,item.personName,teamType,item.groupNo,item.eventTimeNum,item.code,item.actionName);
                        }else if(item.codeType==4 && item.code!=22){//犯规
                            var foulsPerson="";
    
                            if(item.code ==21 ){//需要显示被犯规人
                                $.each(json, function(k, itemFoul) {
                                    if(item.groupNo == itemFoul.groupNo && itemFoul.code==22){
                                        foulsPerson =itemFoul.personNumber+" "+itemFoul.personName;
                                        return false;
                                    }
                                });
                            }
                            drawyRect("chalk-board", item.half,item.x, item.y, item.personNumber,item.personName,teamType,item.eventTimeNum,item.code,item.actionName,item.groupNo,foulsPerson);
                        } else if(item.codeType==6){//对抗
                            drawDuels("chalk-board", item.half,item.x, item.y, item.personNumber,item.personName,teamType,item.eventTimeNum,item.code,item.actionName,item.groupNo);
                        }
                        else if(item.codeType==7){//其他
                            drawShift("chalk-board",item.half, item.x, item.y, item.personNumber,item.personName,teamType,item.eventTimeNum,item.code,item.actionName);
                        }
                        
                        //timeline
                        // var codeType=item.codeType;
                        // if(item.code == 1 || item.code == 87){
                        //     codeType="goal";
                        // }
                        // if(item.code !=555 && item.code !=22 && isNotEmpty(item.code)){//空，落球点，被犯规 不需要在时间轴上显示
                        //     var nextX = null;
                        //     if(json[i+1]){
                        //         nextX = json[i+1]["x"];
                        //     }
                        //     if (isOverTimeCom == "2") {
                        //         cbTimeLine(item.half,item.eventTimeNum*0.82,item.x,item.y,nextX,codeType,item.code,item.personNumber,item.personName,item.eventTimeFull,teamType,item.actionName);
                        //     } else {
                        //         cbTimeLine(item.half,item.timeNum,item.x,item.y,nextX,codeType,item.code,item.personNumber,item.personName,item.eventTimeFull,teamType,item.actionName);
                        //     }
                        // }
                    });
                },
                error: function (result) {
                    
                }
            })
        }  

        if(personId != "" && passCode != ""){
            $.ajax({
                url: "http://192.168.2.6:8888/dataapi/match/tracePass.html?ak=123456&matchId="+matchId +"&half="+half+"&personId="+personId+"&passCode="+passCode+"&areaBlockedFrom="+areaBlockedFrom+"&areaBlockedTo="+areaBlockedTo+"&draftedFrom="+draftedFrom+"&draftedTo="+draftedTo+"&timeStart="+timeStart+"&timeEnd="+timeEnd+"&timeStartHalf="+timeStartHalf+"&timeEndHalf="+timeEndHalf+"&isOverTime="+isOverTime,
                type: "GET",
                dataType: "json",
                success: function (result) {
                    
                    var json = eval(result);
                    json = $.map(json, function(item){
                        item.x = item.x * 1.05305;
                        item.y = item.y * 1.05755;
                        item.personFromX = item.personFromX * 1.05305;
                        item.personToX = item.personToX * 1.05305;
                        item.personFromY = item.personFromY * 1.05755;
                        item.personToY = item.personToY * 1.05755;
                        return item;
                    });


                    $.each(json, function(i, item) {
                        //画传球线路
                        drawPassInChalkBoard("chalk-board",item.groupNo,item.personFromNum,item.personFromX,item.personFromY,item.personToNum,item.personToX,item.personToY,item.fromTeamId,item.toTeamId,item.fromTime);
                    });

                    
                },
                error: function (result) {
                    
                }
            })
        }


    }

    function getMarkerArrow1(svgId){
    // 	var marker = "<defs><marker id=\"markerArrow\" markerWidth=\"13\" markerHeight=\"13\" refx=\"2\" refy=\"6\" orient=\"auto\"><path d=\"M2,2 L2,11 L10,6 L2,2\" style=\"fill: #000000;\" /></marker></defs>"
    // 	$("#"+svgId).append(marker);
        // 三角
        var p1 = Snap("#"+svgId).paper.path("M2,2 L2,11 L10,6 L2,2").attr({
            fill: "#000"
        });
            
        // 变身标记
        return p1.marker(0, 0, 10, 10, 2, 6);
    }

    function drawLineEnd(svgId,m2,x1,y1,x2,y2,team1,team2,person1,person2,code,groupNo,istrace){

        var svg = Snap("#"+svgId);
        var stroke="blue";
        //老球场界限
        //x:40 580
        //y:28 389
        //新球场界限
        //x:40*1.05305 580*1.05305
        //y:28*1.05755 389*1.05755
        if(isNotEmpty(code) && code !=1){//除进球外
            if(x2<40*1.05305 || x2>580*1.05305 || y2<28*1.05755 || y2>389*1.05755){
                stroke = "red";
            }
        }
        //界外球显示在同一条线上
        if(code==19){
            if(y1<28*1.05755){
                y1=18*1.05755;
            }
            if(y1>389*1.05755){
                y1=399*1.05755;
            }
        }
        
        var line = svg.paper.line(x1+0.5, y1 ,x2+0.5, y2).attr({
            strokeWidth: 1,
            fill: "none",
            "marker-end": m2
        });
        if(team1!=team2){
            stroke="red";
        }
        if(isNotEmpty(istrace)){
            line.attr("istrace",istrace);
        }
        line.attr("stroke",stroke);
        if(person1==person2){
            line.attr("stroke-dasharray","3 3");
        }
        //角球点击线路播放动画
        if(code==14){
            line.click(function(){
                darken(svgId);
                //画进攻轨迹
                traceLine(groupNo);
            });
        }
    }

    //进球
    function drawGoal(svgId,half,x,y,x2,number,name,groupNo,eventTimeFull,actionName,teamType,istrace){

        var svg = Snap("#"+svgId);
        

        var goalType = "GOAL";
        
        if((teamType=="H" && x2<310)||(teamType=="G" && x2>310)){//乌龙球
            goalType = "OWN";
        }
        var id = "s_"+half.toString()+x.toString()+y.toString()+number.toString();
        var image = svg.paper.image("images/icon_"+goalType+".png", x-10, y-10, 20, 20).attr({"name":half.toString()+x.toString()+y.toString()+number.toString(),"id":id,"cursor":"hand"});

        image.dblclick(function(){
            playMedia(groupNo);
        });
        if(isNotEmpty(istrace)){
            image.attr("istrace",istrace);
        }
        var hammerImage = new Hammer(document.getElementById(id));
        hammerImage.on("doubletap", function(ev) {
            playMedia(groupNo);
        });
        image.click(function(){
            darken(svgId);
            //画进攻轨迹
            traceLine(groupNo);
            $("#currentGroupId").val(groupNo);
            $("#actionTime").val(eventTimeFull);
        });
        image.mouseover(function() {
            highlight(svgId,half+""+x+""+y+""+number,teamType,1); 
            $("#div_title_trace").html(number+" "+name+" "+eventTimeFull+" "+actionName);
            $("#div_title_trace").css("margin-left",x-20);
            $("#div_title_trace").css("margin-top",y-40);
            $("#div_title_trace").css("display","block");
        });
        image.mouseout(function() {
            highlight(svgId,half+""+x+""+y+""+number,teamType,2); 
            $("#div_title_trace").css("display","none");
        });
        
    }

        //进攻
        function drawAttack(svgId,half,x,y,number,name,size,teamType,groupNo,eventTimeFull,code,actionName,istrace){
        x= parseInt(x);
        y= parseInt(y);
        number= parseInt(number);
        var svg = Snap("#"+svgId);
        //界外球显示在一条线上
        //x:40 580
        //y:28 389
        //新球场界限
        //x:40*1.05305 580*1.05305
        //y:28*1.05755 389*1.05755
        if(code==19){
            if(y<28*1.05755){
                y=18*1.05755;
            }
            if(y>389*1.05755){
                y=399*1.05755;
            }
        }
        var circleId = "s_"+half.toString()+x.toString()+y.toString()+number.toString();
        var textId ="t_"+circleId;
        var circle = svg.paper.circle(x, y, size).attr({"name":half.toString()+x.toString()+y.toString()+number.toString(),"id":circleId,"cursor":"hand","stroke":colorMap.get(code+""),"stroke-width":"2"});
        var text = svg.paper.text(x, y+5, number).attr({"name":half.toString()+x.toString()+y.toString()+number.toString(),"id":textId,"text-anchor":"middle","font-size":size ,"cursor":"hand"});
        
        if(isNotEmpty(istrace)){
            circle.attr("istrace",istrace);
            text.attr("istrace",istrace);
        }
        
        //过人失败(虚线显示)
        if(code==172){
            circle.attr("stroke-dasharray","3 3");
        }
        
        if(teamType=="H"){//主队
            circle.attr("fill", "#3C7994");
            text.attr("fill","white");
        }else{//客队
            circle.attr("fill", "#DCF2FE");
            text.attr("fill","black");
        }
        text.click(function(){
            $("#currentGroupId").val(groupNo);
            $("#actionType").val(1);
            $("#actionTime").val(eventTimeFull);
            darken(svgId);
            //画进攻轨迹
            traceLine(groupNo);
            
        });
        circle.click(function(){
            $("#currentGroupId").val(groupNo);
            $("#actionType").val(1);
            $("#actionTime").val(eventTimeFull);
            darken(svgId);
            //画进攻轨迹
            traceLine(groupNo);
        });
        circle.dblclick(function(){
            playMedia(groupNo);
        });
        text.dblclick(function(){
            playMedia(groupNo);
        });
        var circleHammer = new Hammer(document.getElementById(circleId));
        circleHammer.on("doubletap", function(ev) {
            playMedia(groupNo);
        });
        var textHammer = new Hammer(document.getElementById(textId));
        textHammer.on("doubletap", function(ev) {
            playMedia(groupNo);
        });
        
        text.mouseover(function() {
            highlight(svgId,half+""+x+""+y+""+number,teamType,1); 
            $("#div_title_trace").html(number+" "+name+" "+eventTimeFull+" "+actionName);
            $("#div_title_trace").css("margin-left",x-20);
            $("#div_title_trace").css("margin-top",y-40);
            $("#div_title_trace").css("display","block");
        });
        text.mouseout(function() {
            highlight(svgId,half+""+x+""+y+""+number,teamType,2); 
            $("#div_title_trace").css("display","none");
        });
    }

    //防守，三角形
    function drawyTriangle(svgId,half,x,y,number,name,teamType,groupNo,eventTimeFull,code,actionName){
        var docName = "pb"+number+"_"+x+"_"+y;
        // 	half.toString()+x.toString()+y.toString()+number.toString()
        x= parseInt(x);
        y= parseInt(y);
        number= parseInt(number);
        var svg = Snap("#"+svgId);
        var polySize=10;
        var poly = svg.paper.polygon([x,y-polySize ,x-polySize,y+polySize ,x+polySize,y+polySize]).attr({"name":docName,"id":"s_"+half.toString()+x.toString()+y.toString()+number.toString(),"stroke":colorMap.get(code+""),"stroke-width":"2"});
        var text = svg.paper.text(x, y+8, number).attr({"name":docName,"text-anchor":"middle" });
        
        // 抢断失败和门将出击失败(显示虚线)
        if(code==350 || code==353){
            poly.attr("stroke-dasharray","3 3");
        }
        
        if(teamType=="H"){//主队
            poly.attr("fill", "#3C7994");
            text.attr("fill","white");
        }else{//客队
            poly.attr("fill", "#DCF2FE");
            text.attr("fill","black");
        }
        text.mouseover(function() {
            highlight(svgId,docName,teamType,1); 
            $("#div_title_trace").html(number+" "+name+" "+eventTimeFull+" "+actionName);
            $("#div_title_trace").css("margin-left",x-20);
            $("#div_title_trace").css("margin-top",y-40);
            $("#div_title_trace").css("display","block");
            
            darkenOtherByName(svgId,docName);
        });
        text.mouseout(function() {
            highlight(svgId,docName,teamType,2); 
            $("#div_title_trace").css("display","none");
            lighten(svgId);
        });
        
        poly.dblclick(function(){
            playMedia(groupNo);
        });
        
        text.dblclick(function(){
            playMedia(groupNo);
        });
    }

    //画被防守人
    function drawPersonBlock(svgId,personFromNum,personFromX,personFromY,personToNum,personToX,personToY,teamId){
        personFromX = parseInt(personFromX);
        personFromY = parseInt(personFromY);
        personFromNum = parseInt(personFromNum);
        personToX = parseInt(personToX);
        personToY = parseInt(personToY);
        personToNum = parseInt(personToNum);
        
        var docName = "pb"+personToNum+"_"+personToX+"_"+personToY;
        
        var svg = Snap("#"+svgId);
        
        var circleFromColor;
        var textFromColor;
        
        if(teamId==hometeamId){
            circleFromColor="#3C7994";
            textFromColor="white";
        }else{//客队
            circleFromColor="#DCF2FE";
            textFromColor="black";
        }
        
        //画线
        var pathStr = drawLineArrow(personFromX,personFromY,personToX,personToY);
        var linePath = svg.paper.path(pathStr).attr({
            stroke: "red",
            strokeWidth: 1,
            "name":docName
        });
        var circleFrom = svg.paper.circle(personFromX, personFromY, 8).attr({"name":docName });
        var textFrom = svg.paper.text(personFromX, personFromY+5, personFromNum).attr({"text-anchor":"middle","name":docName });
        circleFrom.attr("fill", circleFromColor);
        textFrom.attr("fill",textFromColor);
        
        textFrom.mouseover(function(){
            darkenOtherByName(svgId,docName);
        });
        textFrom.mouseout(function() {
            lighten(svgId);
        });
    }

    //犯规 正方形
    function drawyRect(svgId,half,x,y,number,name,teamType,eventTimeFull,code,actionName,groupNo,foulsPerson){

        
        $("#actionType").val(2);
        x= parseInt(x);
        y= parseInt(y);
        number= parseInt(number);
        var svg = Snap("#"+svgId);
        var rectWidth=15;
        var rectId = "s_"+half.toString()+x.toString()+y.toString()+number.toString();
        var textId = "t_"+rectId;
        var rect = svg.paper.rect(x-rectWidth/2, y-rectWidth/2, rectWidth, rectWidth, 2).attr({"name":half.toString()+x.toString()+y.toString()+number.toString(),"id":rectId,"stroke":colorMap.get(code+""),"stroke-width":"2"});
        var text = svg.paper.text(x, y+5, number).attr({"name":half.toString()+x.toString()+y.toString()+number.toString(),"id":textId,"text-anchor":"middle"});
        
        if(teamType=="H"){//主队
            rect.attr("fill", "#3C7994");
            text.attr("fill","white");
        }else{//客队
            rect.attr("fill", "#DCF2FE");
            text.attr("fill","black");
        }
        text.dblclick(function(){
            $("#actionTime").val(eventTimeFull);
            $("#currentGroupId").val(groupNo);
            playMedia(groupNo);
        });
        var rectHammer = new Hammer(document.getElementById(rectId));
        rectHammer.on("doubletap", function(ev) {
            playMedia(groupNo);
        });
        var textHammer = new Hammer(document.getElementById(textId));
        textHammer.on("doubletap", function(ev) {
            playMedia(groupNo);
        });
        text.mouseover(function() {
            highlight(svgId,half+""+x+""+y+""+number,teamType,1); 
            if(code = 21){//如果是犯规，则显示被犯规人
                $("#div_title_trace").html(number+" "+name+" "+eventTimeFull +" "+ actionName+" "+foulsPerson);
            }else{
                $("#div_title_trace").html(number+" "+name+" "+eventTimeFull+" "+actionName);
            }
            $("#div_title_trace").css("margin-left",x-20);
            $("#div_title_trace").css("margin-top",y-40);
            $("#div_title_trace").css("display","block");
        });
        text.mouseout(function() {
            highlight(svgId,half+""+x+""+y+""+number,teamType,2);
            $("#div_title_trace").css("display","none");
        });
    }

    //对抗
    function drawDuels(svgId,half,x,y,number,name,teamType,eventTimeFull,code,actionName,groupNo,foulsPerson){

        $("#actionType").val(0);
        x= parseInt(x);
        y= parseInt(y);
        number= parseInt(number);
        var svg = Snap("#"+svgId);
        var rectWidth=15;
        var rectId = "s_"+half.toString()+x.toString()+y.toString()+number.toString();
        var textId = "t_"+rectId;
        var rect = svg.paper.rect(x-rectWidth/2, y-rectWidth/2, rectWidth, rectWidth, 2).attr({"name":half.toString()+x.toString()+y.toString()+number.toString(),"id":rectId,"stroke":colorMap.get(code+""),"stroke-width":"2"});
        var text = svg.paper.text(x, y+5, number).attr({"name":half.toString()+x.toString()+y.toString()+number.toString(),"id":textId,"text-anchor":"middle"});
        
        if(teamType=="H"  && code=="61" ){//主队空中对抗成功
            rect.attr("fill", "#3C7994");
            text.attr("fill","white");
        }
        
        if (teamType=="G" && code=="61") {//客队空中对抗成功
            rect.attr("fill", "#DCF2FE");
            text.attr("fill","black");
        }
        if(teamType=="H"  && code=="400" ){//主队空中对抗失败
            rect.attr("fill", "#3C7994");
            text.attr("fill","red");
        }
        if (teamType=="G" && code=="400") {//客队空中对抗失败
            rect.attr("fill", "#DCF2FE");
            text.attr("fill","red");
        }
        text.dblclick(function(){
            $("#actionTime").val(eventTimeFull);
            $("#currentGroupId").val(groupNo);
            playMedia(groupNo);
        });
        var rectHammer = new Hammer(document.getElementById(rectId));
        rectHammer.on("doubletap", function(ev) {
            playMedia(groupNo);
        });
        var textHammer = new Hammer(document.getElementById(textId));
        textHammer.on("doubletap", function(ev) {
            playMedia(groupNo);
        });
        text.mouseover(function() {
            highlight(svgId,half+""+x+""+y+""+number,teamType,1);
            $("#div_title_trace").html(number+" "+name+" "+eventTimeFull +" "+ actionName);
            $("#div_title_trace").css("margin-left",x-20);
            $("#div_title_trace").css("margin-top",y-40);
            $("#div_title_trace").css("display","block");
        });
        text.mouseout(function() {
            highlight(svgId,half+""+x+""+y+""+number,teamType,2);
            $("#div_title_trace").css("display","none");
        });
    }

    //球权转换
    function drawShift(svgId,half,x,y,number,name,teamType,eventTimeFull,code,actionName){
        console.log(code)

        if (code == "503") {
            x= parseInt(x);
            y= parseInt(y);
            var svg = Snap("#"+svgId);
            var text = svg.paper.text(x,y, "x").attr({"font-face":"华文新魏","text-anchor":"middle" });
            
            if(teamType=="H" && code=="503"){//球权转换主队
                text.attr("fill", "#3C7994");//3C7994
            }
            if (teamType=="G" && code=="503") {//球权转换客队
                text.attr("fill", "#DCF2FE");//DCF2FE
            }
        } else {
            var docName = "pb"+number+"_"+x+"_"+y;
            x= parseInt(x);
            y= parseInt(y);
            number= parseInt(number);
            var svg = Snap("#"+svgId);
            var polySize=10;
            console.log(colorMap.get(code+""))
            var poly = svg.paper.polygon([x-polySize, y-polySize, x, y+polySize, x+polySize, y-polySize]).attr({"name":docName,"id":"s_"+half.toString()+x.toString()+y.toString()+number.toString(),"stroke":colorMap.get(code+""),"stroke-width":"2"});
            var text = svg.paper.text(x, y, number).attr({"name":docName,"text-anchor":"middle" });
            
            if(teamType=="H"){//主队
                poly.attr("fill", "#3C7994");
                text.attr("fill","white");
            }else{//客队
                poly.attr("fill", "#DCF2FE");
                text.attr("fill","black");
            }
            text.mouseover(function() {
                highlight(svgId,docName,teamType,1); 
                $("#div_title_trace").html(number+" "+name+" "+eventTimeFull+" "+actionName);
                $("#div_title_trace").css("margin-left",x-20);
                $("#div_title_trace").css("margin-top",y-40);
                $("#div_title_trace").css("display","block");
                
                darkenOtherByName(svgId,docName);
            });
            text.mouseout(function() {
                highlight(svgId,docName,teamType,2); 
                $("#div_title_trace").css("display","none");
                lighten(svgId);
            });
        }
    }

    

</script>

</html>